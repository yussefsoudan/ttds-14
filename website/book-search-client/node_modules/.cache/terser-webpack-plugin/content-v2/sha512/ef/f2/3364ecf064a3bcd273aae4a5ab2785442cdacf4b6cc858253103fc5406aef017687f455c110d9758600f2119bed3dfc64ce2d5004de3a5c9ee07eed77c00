{"code":"(this[\"webpackJsonpbook-search-client\"]=this[\"webpackJsonpbook-search-client\"]||[]).push([[0],{122:function(e,t,a){\"use strict\";a.r(t);var r=a(0),n=a.n(r),o=a(10),c=a.n(o),s=(a(90),a(11)),i=(a(91),a(17)),l=a.n(i),u=a(13),h=a(22),j=a(177),b=a(183),d=a(124),g=a(167),m=a(182),p=a(184),O=a(12),x=a(170),f=a(174),v=a(173),y=a(172),k=a(175),T=a(4),C=a(176),S=a(72),w=a.n(S),B=a(57),N=a.n(B),R=a(70),q=a.n(R),F=a(3),P=Object(g.a)((function(e){return{root:{display:\"flex\",marginTop:\"5%\",marginBottom:\"5%\",border:\"0.2em solid lightgrey\"},cover:{maxWidth:120,minWidth:120,padding:7,objectFit:\"cover\"},details:{display:\"flex\",flexDirection:\"column\"},content:{},expand:{transform:\"rotate(0deg)\",marginLeft:\"auto\",transition:e.transitions.create(\"transform\",{duration:e.transitions.duration.shortest})},expandOpen:{transform:\"rotate(180deg)\"}}}));function L(e){for(var t=e.resultObj,a=e.searchTerms,r=P(),o=n.a.useState(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],u=t,h=t.quote?t.quote:\"\",j=(h.split(\" \"),\"\"),b=0;b<u.authors.length;b++)b==u.authors.length-1?j+=u.authors[b]:j+=u.authors[b]+\", \";return Object(F.jsxs)(x.a,{className:r.root,children:[Object(F.jsx)(y.a,{className:r.cover,children:Object(F.jsx)(\"img\",{src:u.thumbnail,style:{\"max-height\":\"100%\",\"max-width\":\"100%\",border:\"0.2em solid black\",\"border-radius\":\"0.1em\"}})}),Object(F.jsxs)(\"div\",{className:r.details,children:[Object(F.jsxs)(v.a,{className:r.content,children:[Object(F.jsx)(d.a,{variant:\"h5\",component:\"h2\",children:u.title}),Object(F.jsx)(d.a,{gutterBottom:!0,component:\"h3\",children:j}),Object(F.jsx)(d.a,{gutterBottom:!0,component:\"h4\",variant:\"h6\",style:{color:\"darkblue\",\"font-style\":\"italic\"},children:h.length>300?Object(F.jsx)(q.a,{lines:3,more:\"Show more\",less:\"Show less\",className:\"content-css\",anchorClass:\"my-anchor-css-class\",expanded:!1,width:0,children:Object(F.jsx)(\"q\",{cite:\"https://www.mozilla.org/en-US/about/history/details/\",children:Object(F.jsx)(N.a,{highlightClassName:\"YourHighlightClass\",searchWords:a,autoEscape:!0,textToHighlight:h})})}):Object(F.jsx)(\"q\",{cite:\"https://www.mozilla.org/en-US/about/history/details/\",children:Object(F.jsx)(N.a,{highlightClassName:\"YourHighlightClass\",searchWords:a,autoEscape:!0,textToHighlight:h})})}),Object(F.jsx)(f.a,{disableRipple:!0,size:\"small\",color:\"primary\",href:u.previewLink,target:\"_blank\",style:{cursor:\"pointer\",textTransform:\"none\",backgroundColor:\"transparent\"},children:\"View on Google Books\"}),Object(F.jsx)(\"hr\",{style:{color:\"lightblue\",align:\"left\",margin:0,width:\"100%\"}})]}),Object(F.jsx)(k.a,{className:Object(T.a)(r.expand,Object(O.a)({},r.expandOpen,i)),onClick:function(){l(!i)},\"aria-expanded\":i,\"aria-label\":\"show more\",children:Object(F.jsx)(w.a,{})}),Object(F.jsx)(C.a,{in:i,timeout:\"auto\",unmountOnExit:!0,children:Object(F.jsxs)(v.a,{children:[Object(F.jsx)(d.a,{gutterBottom:!0,variant:\"h6\",component:\"h2\",children:\"Further Book Details\"}),Object(F.jsxs)(d.a,{gutterBottom:!0,component:\"h3\",children:[\"\\u2022 Book categories: \",u.categories]}),Object(F.jsxs)(d.a,{gutterBottom:!0,component:\"h3\",children:[\"\\u2022 Number of pages: \",u.pageCount]}),Object(F.jsxs)(d.a,{gutterBottom:!0,component:\"h3\",children:[\"\\u2022 Published date: \",u.publishedDate]}),Object(F.jsxs)(d.a,{gutterBottom:!0,component:\"h3\",children:[\"\\u2022 ISBN: \",u[\"isbn-13\"]]}),Object(F.jsxs)(d.a,{gutterBottom:!0,component:\"h3\",children:[\"\\u2022 Average rating: \",\"\"==u.averageRating?\"\":u.averageRating+\"/5\"]}),Object(F.jsxs)(d.a,{gutterBottom:!0,component:\"h3\",children:[\"\\u2022 Number of ratings: \",u.ratingsCount]})]})})]})]})}var E=a(186);function W(e){var t=e.results,a=e.searchTerms,n=Object(r.useState)({data:[],searchTerms:[],offset:1,perPageResults:10}),o=Object(s.a)(n,2),c=o[0],i=o[1];console.log(\"Result page rendered\"),Object(r.useEffect)((function(){(function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(\"Use effect hook\"),i(Object(u.a)(Object(u.a)({},c),{},{data:t,searchTerms:a}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var b,d=function(e){i(Object(u.a)(Object(u.a)({},c),{},{offset:e}))},g=Object.keys(c.data).length;return b=g%Number(c.perPageResults)==0?Math.floor(g/Number(c.perPageResults)):Math.floor(g/Number(c.perPageResults))+1,console.log(\"Page count\",b),Object(F.jsx)(j.a,{container:!0,className:\"book-container\",spacing:6,justify:\"center\",alignItems:\"center\",children:Object(F.jsxs)(j.a,{item:!0,className:\"book-card-result\",xs:8,children:[g>c.perPageResults&&Object(F.jsx)(E.a,{count:b,page:c.offset,onChange:function(e,t){return d(t)}}),c.data.slice((c.offset-1)*c.perPageResults,(c.offset-1)*c.perPageResults+Number(c.perPageResults)).filter((function(e){return null!=e.title})).map((function(e,t){return Object(F.jsx)(L,{item:!0,resultObj:e,searchTerms:c.searchTerms},t)})),g>c.perPageResults&&Object(F.jsx)(E.a,{count:b,page:c.offset,onChange:function(e,t){return d(t)}})]})})}for(var I=a(55),_=\"https://ttds-14.herokuapp.com\",D=function(){var e=Object(h.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"request endpoint\",_+t),e.abrupt(\"return\",I.post(_+t,{terms:a.terms,author:a.author,bookTitle:a.bookTitle,genre:a.genre,yearTo:a.yearTo,yearFrom:a.yearFrom,responseType:\"json\"}).then((function(e){return e.data})).catch((function(e){throw e})));case 2:case\"end\":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=a(189),H=a(187),M=a(178),Y=a(191),z=a(185),U=a(188),A=a(181),J=Object(g.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120}}})),V=[],K=1990;K<2022;K++)V.push(K);function Q(e){var t=J(),a=Object(r.useState)({bookSearch:!1,author:\"\",bookTitle:\"\",genre:\"\",yearFrom:1990,yearTo:2021}),n=Object(s.a)(a,2),o=n[0],c=n[1],i=function(t,a){console.log(\"Field\",t),console.log(\"Value\",a),c(Object(u.a)(Object(u.a)({},o),{},Object(O.a)({},t,a))),e.handleChange(t,a)};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(j.a,{container:!0,children:Object(F.jsx)(M.a,{control:Object(F.jsx)(H.a,{checked:o.bookSearch,onChange:function(e){return i(\"bookSearch\",e.target.checked)},name:\"bookSearch\",color:\"primary\"}),label:\"Book Search\"})}),Object(F.jsxs)(j.a,{container:!0,spacing:1,children:[Object(F.jsxs)(j.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(F.jsx)(j.a,{container:!0,item:!0,xs:4,children:Object(F.jsx)(G.a,{id:\"standard-basic\",label:\"Book Title\",value:o.bookTitle,onChange:function(e){return i(\"bookTitle\",e.target.value)}})}),Object(F.jsx)(j.a,{container:!0,item:!0,xs:4,children:Object(F.jsx)(G.a,{id:\"standard-basic\",label:\"Author\",value:o.author,onChange:function(e){return i(\"author\",e.target.value)}})}),Object(F.jsx)(j.a,{container:!0,item:!0,xs:4,children:Object(F.jsx)(G.a,{id:\"standard-basic\",label:\"Genre\",value:o.genre,onChange:function(e){return i(\"genre\",e.target.value)}})})]}),Object(F.jsxs)(j.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(F.jsx)(j.a,{container:!0,item:!0,xs:4,children:Object(F.jsxs)(A.a,{className:t.formControl,children:[Object(F.jsx)(U.a,{id:\"year-from\",children:\"Year From\"}),Object(F.jsx)(z.a,{labelId:\"year-from-select\",id:\"year-from-select\",value:o.yearFrom,onChange:function(e){return i(\"yearFrom\",e.target.value)},children:V.map((function(e){return Object(F.jsx)(Y.a,{value:e,children:e},e)}))})]})}),Object(F.jsx)(j.a,{container:!0,item:!0,xs:4,children:Object(F.jsxs)(A.a,{className:t.formControl,children:[Object(F.jsx)(U.a,{id:\"year-to\",children:\"Year To\"}),Object(F.jsx)(z.a,{labelId:\"year-to-select\",id:\"year-to-select\",value:o.yearTo,onChange:function(e){return i(\"yearTo\",e.target.value)},children:V.map((function(e){return Object(F.jsx)(Y.a,{value:e,children:e},e)}))})]})})]})]})]})}var X=Object(g.a)((function(e){return{heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},margin:{margin:e.spacing(1)}}}));function Z(e){var t=X(),a=Object(r.useState)({quote:\"\",bookSearch:!1,author:\"\",bookTitle:\"\",genre:\"\",yearTo:2021,yearFrom:1990}),n=Object(s.a)(a,2),o=n[0],c=n[1];return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(\"div\",{className:t.heroContent,children:Object(F.jsxs)(m.a,{maxWidth:\"sm\",children:[Object(F.jsx)(d.a,{component:\"h1\",variant:\"h2\",align:\"center\",color:\"textPrimary\",gutterBottom:!0,children:\"Search a book by a quote\"}),Object(F.jsx)(G.a,{fullWidth:!0,className:t.margin,label:\"Type your quote...\",multiline:!0,rowsMax:4,value:o.quote,onChange:function(e){c(Object(u.a)(Object(u.a)({},o),{},{quote:e.target.value}))}}),Object(F.jsx)(d.a,{variant:\"h5\",align:\"center\",color:\"textSecondary\",paragraph:!0,children:\"Try to type something short and leading about the book you are looking for\"}),Object(F.jsx)(Q,{handleChange:function(e,t){c(Object(u.a)(Object(u.a)({},o),{},Object(O.a)({},e,t))),console.log(\"Search features input:\",e,t)}}),Object(F.jsx)(\"div\",{className:t.heroButtons,children:Object(F.jsxs)(j.a,{container:!0,spacing:2,justify:\"center\",children:[Object(F.jsx)(j.a,{item:!0,children:Object(F.jsx)(f.a,{variant:\"contained\",color:\"primary\",onClick:function(){e.handleRequest(o)},children:\"Submit\"})}),Object(F.jsx)(j.a,{item:!0,children:Object(F.jsx)(f.a,{variant:\"outlined\",color:\"primary\",onClick:function(e){e.preventDefault(),c(Object(u.a)(Object(u.a)({},o),{},{quote:\"\",apiResponse:{},success:!1}))},children:\"Clear\"})})]})})]})})})}var $=Object(g.a)((function(e){return{icon:{marginRight:e.spacing(2)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},margin:{margin:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:120}}}));function ee(){var e=$(),t=Object(r.useState)({apiResponse:{books:[]},searchTerms:[],isLoading:!1,requestError:\"\",success:!1}),a=Object(s.a)(t,2),o=a[0],c=a[1];console.log(\"Search page render\");var i=function(){var e=Object(h.a)(l.a.mark((function e(t){var a,r,n,s,i,h,j,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.quote,r=t.bookSearch,n=t.author,s=t.bookTitle,i=t.genre,h=t.yearFrom,j=t.yearTo,c(Object(u.a)(Object(u.a)({},o),{},{isLoading:!0,requestError:\"\",apiResponse:\"\"})),console.log(o.isLoading),b=a.split(\" \"),e.next=6,D(r?\"/books_from_terms_list\":\"/quotes_from_terms_list\",{terms:b,author:n,bookTitle:s,genre:i,yearFrom:h,yearTo:j}).then((function(e){c(Object(u.a)(Object(u.a)({},o),{},{isLoading:!1,apiResponse:{books:e.books},requestError:\"\",success:!0,searchTerms:a.split(\" \")}))})).catch((function(e){c(Object(u.a)(Object(u.a)({},o),{},{isLoading:!1,requestError:e,apiResponse:{quote:\"\"}}))}));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)(n.a.Fragment,{children:[Object(F.jsx)(b.a,{}),Object(F.jsxs)(\"main\",{children:[Object(F.jsx)(Z,{handleRequest:i}),Object(F.jsx)(m.a,{className:e.cardGrid,maxWidth:\"md\",children:o.isLoading?Object(F.jsx)(j.a,{container:!0,justify:\"center\",alignItems:\"center\",children:Object(F.jsx)(p.a,{})}):o.success&&Object(F.jsx)(W,{results:o.apiResponse.books,searchTerms:o.searchTerms})})]}),Object(F.jsxs)(\"footer\",{className:e.footer,children:[Object(F.jsx)(d.a,{variant:\"h6\",align:\"center\",gutterBottom:!0,children:\"Footer\"}),Object(F.jsx)(d.a,{variant:\"subtitle1\",align:\"center\",color:\"textSecondary\",component:\"p\",children:\"Something here to give the footer a purpose!\"})]})]})}a(55),a(55);var te=function(){var e=Object(r.useState)({connectDB:{isLoading:!1,error:\"\"}}),t=Object(s.a)(e,2);return t[0],t[1],Object(F.jsx)(\"div\",{children:Object(F.jsx)(ee,{})})},ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,192)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),o(e),c(e)}))};c.a.render(Object(F.jsx)(n.a.StrictMode,{children:Object(F.jsx)(te,{})}),document.getElementById(\"root\")),ae()},90:function(e,t,a){},91:function(e,t,a){}},[[122,1,2]]]);","name":"static/js/main.6936305a.chunk.js","map":{"version":3,"sources":["static/js/main.6936305a.chunk.js"],"names":["this","push","122","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","regenerator","regenerator_default","objectSpread2","asyncToGenerator","Grid","CssBaseline","Typography","makeStyles","Container","CircularProgress","defineProperty","Card","Button","CardContent","CardMedia","IconButton","clsx_m","Collapse","ExpandMore","ExpandMore_default","main","main_default","ShowMoreText","ShowMoreText_default","jsx_runtime","useStyles","Object","theme","root","display","marginTop","marginBottom","border","cover","maxWidth","minWidth","padding","objectFit","details","flexDirection","content","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","BookCard","_ref","resultObj","searchTerms","classes","_React$useState","a","useState","_React$useState2","expanded","setExpanded","book","quote","authors","split","i","length","className","children","src","thumbnail","style","max-height","max-width","border-radius","variant","component","title","gutterBottom","color","font-style","lines","more","less","anchorClass","width","cite","highlightClassName","searchWords","autoEscape","textToHighlight","disableRipple","size","href","previewLink","target","cursor","textTransform","backgroundColor","align","margin","onClick","aria-expanded","aria-label","in","timeout","unmountOnExit","categories","pageCount","publishedDate","averageRating","ratingsCount","Pagination","ResultPage","results","_useState","data","offset","perPageResults","_useState2","state","setState","console","log","_ref2","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","onRender","count","handlePaginationClick","keys","Number","Math","floor","container","spacing","justify","alignItems","item","xs","page","onChange","e","slice","filter","map","idx","axios","baseURL","api_getSearchResults","endpoint","params","abrupt","post","terms","author","bookTitle","genre","yearTo","yearFrom","responseType","then","response","catch","error","_x","_x2","TextField","Switch","FormControlLabel","MenuItem","Select","InputLabel","FormControl","SearchFeatures_useStyles","formControl","years","SearchFeatures_i","SearchFeatures","props","bookSearch","handleChange","field","value","control","checked","name","label","id","labelId","SearchBar_useStyles","heroContent","palette","background","paper","heroButtons","SearchBar","fullWidth","multiline","rowsMax","event","paragraph","param","handleRequest","preventDefault","apiResponse","success","SearchPage_useStyles","icon","marginRight","cardGrid","paddingTop","paddingBottom","footer","SearchPage","books","isLoading","requestError","searchInput","errorResponse","Fragment","src_App","connectDB","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById","90","exports","91"],"mappings":"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"},"input":"(this[\"webpackJsonpbook-search-client\"] = this[\"webpackJsonpbook-search-client\"] || []).push([[0],{\n\n/***/ 122:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(10);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(90);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(17);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(177);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CssBaseline/CssBaseline.js\nvar CssBaseline = __webpack_require__(183);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(124);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(167);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Container/Container.js\nvar Container = __webpack_require__(182);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js\nvar CircularProgress = __webpack_require__(184);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Card/Card.js\nvar Card = __webpack_require__(170);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(174);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardContent/CardContent.js\nvar CardContent = __webpack_require__(173);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardMedia/CardMedia.js\nvar CardMedia = __webpack_require__(172);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(175);\n\n// EXTERNAL MODULE: ./node_modules/clsx/dist/clsx.m.js\nvar clsx_m = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Collapse/Collapse.js\nvar Collapse = __webpack_require__(176);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/ExpandMore.js\nvar ExpandMore = __webpack_require__(72);\nvar ExpandMore_default = /*#__PURE__*/__webpack_require__.n(ExpandMore);\n\n// EXTERNAL MODULE: ./node_modules/react-highlight-words/dist/main.js\nvar main = __webpack_require__(57);\nvar main_default = /*#__PURE__*/__webpack_require__.n(main);\n\n// EXTERNAL MODULE: ./node_modules/react-show-more-text/lib/ShowMoreText.js\nvar ShowMoreText = __webpack_require__(70);\nvar ShowMoreText_default = /*#__PURE__*/__webpack_require__.n(ShowMoreText);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/components/BookCard.js\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{root:{display:'flex',marginTop:'5%',marginBottom:'5%',border:'0.2em solid lightgrey'},cover:{maxWidth:120,minWidth:120,padding:7,objectFit:'cover'},details:{display:'flex',flexDirection:'column'},content:{},expand:{transform:'rotate(0deg)',marginLeft:'auto',transition:theme.transitions.create('transform',{duration:theme.transitions.duration.shortest})},expandOpen:{transform:'rotate(180deg)'}};});function BookCard(_ref){var resultObj=_ref.resultObj,searchTerms=_ref.searchTerms;var classes=useStyles();var _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),expanded=_React$useState2[0],setExpanded=_React$useState2[1];var book=resultObj;var quote=resultObj.quote?resultObj.quote:\"\";var quoteArr=quote.split(\" \");var authors=\"\";for(var i=0;i<book.authors.length;i++){if(i==book.authors.length-1){authors+=book.authors[i];}else{authors+=book.authors[i]+\", \";}}var handleExpandClick=function handleExpandClick(){setExpanded(!expanded);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{className:classes.root,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardMedia[\"a\" /* default */],{className:classes.cover,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:book.thumbnail,style:{\"max-height\":\"100%\",\"max-width\":\"100%\",\"border\":\"0.2em solid black\",\"border-radius\":\"0.1em\"}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:classes.details,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CardContent[\"a\" /* default */],{className:classes.content,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",component:\"h2\",children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{gutterBottom:true,component:\"h3\",children:authors}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{gutterBottom:true,component:\"h4\",variant:\"h6\",style:{\"color\":\"darkblue\",\"font-style\":\"italic\"},children:quote.length>300?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ShowMoreText_default.a/* Default options */,{lines:3,more:\"Show more\",less:\"Show less\",className:\"content-css\",anchorClass:\"my-anchor-css-class\",expanded:false,width:0,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"q\",{cite:\"https://www.mozilla.org/en-US/about/history/details/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_default.a,{highlightClassName:\"YourHighlightClass\",searchWords:searchTerms,autoEscape:true,textToHighlight:quote})})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"q\",{cite:\"https://www.mozilla.org/en-US/about/history/details/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_default.a,{highlightClassName:\"YourHighlightClass\",searchWords:searchTerms,autoEscape:true,textToHighlight:quote})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disableRipple:true,size:\"small\",color:\"primary\",href:book.previewLink,target:\"_blank\",style:{'cursor':'pointer','textTransform':\"none\",'backgroundColor':'transparent'},children:\"View on Google Books\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{style:{color:'lightblue',align:'left',margin:0,width:'100%'}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:Object(clsx_m[\"a\" /* default */])(classes.expand,Object(defineProperty[\"a\" /* default */])({},classes.expandOpen,expanded)),onClick:handleExpandClick,\"aria-expanded\":expanded,\"aria-label\":\"show more\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ExpandMore_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Collapse[\"a\" /* default */],{in:expanded,timeout:\"auto\",unmountOnExit:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CardContent[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{gutterBottom:true,variant:\"h6\",component:\"h2\",children:\"Further Book Details\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,component:\"h3\",children:[\"\\u2022 Book categories: \",book.categories]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,component:\"h3\",children:[\"\\u2022 Number of pages: \",book.pageCount]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,component:\"h3\",children:[\"\\u2022 Published date: \",book.publishedDate]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,component:\"h3\",children:[\"\\u2022 ISBN: \",book['isbn-13']]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,component:\"h3\",children:[\"\\u2022 Average rating: \",book.averageRating==\"\"?\"\":book.averageRating+\"/5\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,component:\"h3\",children:[\"\\u2022 Number of ratings: \",book.ratingsCount]})]})})]})]});}\n// EXTERNAL MODULE: ./node_modules/@material-ui/lab/esm/Pagination/Pagination.js + 6 modules\nvar Pagination = __webpack_require__(186);\n\n// CONCATENATED MODULE: ./src/views/ResultPage.js\n//  props will be a list of book objects\nfunction ResultPage(_ref){var results=_ref.results,searchTerms=_ref.searchTerms;var _useState=Object(react[\"useState\"])({data:[],searchTerms:[],offset:1,perPageResults:10}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];console.log(\"Result page rendered\");Object(react[\"useEffect\"])(function(){var onRender=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Use effect hook\");setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{data:results,searchTerms:searchTerms}));case 2:case\"end\":return _context.stop();}}},_callee);}));return function onRender(){return _ref2.apply(this,arguments);};}();onRender();},[]);var handlePaginationClick=function handlePaginationClick(offset){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{offset:offset}));};// Calculate how many pagination page we will have \nvar length=Object.keys(state.data).length;var count;if(length%Number(state.perPageResults)==0)count=Math.floor(length/Number(state.perPageResults));else count=Math.floor(length/Number(state.perPageResults))+1;console.log(\"Page count\",count);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,className:\"book-container\",spacing:6,justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,className:\"book-card-result\",xs:8,children:[length>state.perPageResults&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pagination[\"a\" /* default */],{count:count,page:state.offset,onChange:function onChange(e,offset){return handlePaginationClick(offset);}}),state.data.slice((state.offset-1)*state.perPageResults,(state.offset-1)*state.perPageResults+Number(state.perPageResults)).filter(function(book){return book.title!=null;}).map(function(book,idx){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BookCard,{item:true,resultObj:book,searchTerms:state.searchTerms},idx);}),length>state.perPageResults&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pagination[\"a\" /* default */],{count:count,page:state.offset,onChange:function onChange(e,offset){return handlePaginationClick(offset);}})]})});};\n// CONCATENATED MODULE: ./src/api/getSearchResults.js\nvar axios=__webpack_require__(55);var baseURL='https://ttds-14.herokuapp.com';var getSearchResults=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(endpoint,params){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"request endpoint\",baseURL+endpoint);return _context.abrupt(\"return\",axios.post(baseURL+endpoint,{terms:params.terms,author:params.author,bookTitle:params.bookTitle,genre:params.genre,yearTo:params.yearTo,yearFrom:params.yearFrom,responseType:'json'}).then(function(response){// console.log(\"res in callAPI is: \" + JSON.stringify(response));\nreturn response.data;}).catch(function(error){throw error;}));case 2:case\"end\":return _context.stop();}}},_callee);}));return function getSearchResults(_x,_x2){return _ref.apply(this,arguments);};}();/* harmony default export */ var api_getSearchResults = (getSearchResults);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 1 modules\nvar TextField = __webpack_require__(189);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Switch/Switch.js + 1 modules\nvar Switch = __webpack_require__(187);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js\nvar FormControlLabel = __webpack_require__(178);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js + 1 modules\nvar MenuItem = __webpack_require__(191);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Select/Select.js + 16 modules\nvar Select = __webpack_require__(185);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/InputLabel/InputLabel.js + 1 modules\nvar InputLabel = __webpack_require__(188);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/FormControl/FormControl.js\nvar FormControl = __webpack_require__(181);\n\n// CONCATENATED MODULE: ./src/components/SearchFeatures.js\nvar SearchFeatures_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{formControl:{margin:theme.spacing(1),minWidth:120}};});var years=[];for(var SearchFeatures_i=1990;SearchFeatures_i<2022;SearchFeatures_i++){years.push(SearchFeatures_i);}function SearchFeatures(props){var classes=SearchFeatures_useStyles();var _useState=Object(react[\"useState\"])({bookSearch:false,author:\"\",bookTitle:\"\",genre:\"\",yearFrom:1990,yearTo:2021}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(field,value){console.log(\"Field\",field);console.log(\"Value\",value);// TODO \n// Year has to be checked and error message displayed\nsetState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},Object(defineProperty[\"a\" /* default */])({},field,value)));/* Pass state to parent component  */props.handleChange(field,value);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Switch[\"a\" /* default */],{checked:state.bookSearch,onChange:function onChange(e){return handleChange('bookSearch',e.target.checked);},name:\"bookSearch\",color:\"primary\"}),label:\"Book Search\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,spacing:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:12,spacing:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{id:\"standard-basic\",label:\"Book Title\",value:state.bookTitle,onChange:function onChange(e){return handleChange('bookTitle',e.target.value);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{id:\"standard-basic\",label:\"Author\",value:state.author,onChange:function onChange(e){return handleChange('author',e.target.value);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{id:\"standard-basic\",label:\"Genre\",value:state.genre,onChange:function onChange(e){return handleChange('genre',e.target.value);}})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:12,spacing:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormControl[\"a\" /* default */],{className:classes.formControl,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputLabel[\"a\" /* default */],{id:\"year-from\",children:\"Year From\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{labelId:\"year-from-select\",id:\"year-from-select\"// open={open}\n// onClose={handleClose}\n// onOpen={handleOpen}\n,value:state.yearFrom,onChange:function onChange(e){return handleChange('yearFrom',e.target.value);},children:years.map(function(name){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:name,children:name},name);})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormControl[\"a\" /* default */],{className:classes.formControl,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputLabel[\"a\" /* default */],{id:\"year-to\",children:\"Year To\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{labelId:\"year-to-select\",id:\"year-to-select\"// open={open}\n// onClose={handleClose}\n// onOpen={handleOpen}\n,value:state.yearTo,onChange:function onChange(e){return handleChange('yearTo',e.target.value);},children:years.map(function(name){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:name,children:name},name);})})]})})]})]})]});}\n// CONCATENATED MODULE: ./src/components/SearchBar.js\nvar SearchBar_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{heroContent:{backgroundColor:theme.palette.background.paper,padding:theme.spacing(8,0,6)},heroButtons:{marginTop:theme.spacing(4)},margin:{margin:theme.spacing(1)}};});function SearchBar(props){var classes=SearchBar_useStyles();var _useState=Object(react[\"useState\"])({quote:\"\",bookSearch:false,author:\"\",bookTitle:\"\",genre:\"\",yearTo:2021,yearFrom:1990}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(event){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{quote:event.target.value}));};var handleSearchFeaturesChange=function handleSearchFeaturesChange(param,value){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},Object(defineProperty[\"a\" /* default */])({},param,value)));console.log(\"Search features input:\",param,value);};var handleClear=function handleClear(event){event.preventDefault();setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{quote:\"\",apiResponse:{},success:false}));// setQuote(\"\");\n// setSubmit(false)\n};var handleSubmit=function handleSubmit(){// Validate input \n// If input is correct then make the request otherwise change state\n// and display appropriate component\n// findQuoteRequest();\nprops.handleRequest(state);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.heroContent,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{maxWidth:\"sm\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{component:\"h1\",variant:\"h2\",align:\"center\",color:\"textPrimary\",gutterBottom:true,children:\"Search a book by a quote\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,className:classes.margin,label:\"Type your quote...\",multiline:true,rowsMax:4,value:state.quote,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",align:\"center\",color:\"textSecondary\",paragraph:true,children:\"Try to type something short and leading about the book you are looking for\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchFeatures,{handleChange:handleSearchFeaturesChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.heroButtons,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,spacing:2,justify:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",onClick:handleSubmit,children:\"Submit\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",color:\"primary\",onClick:handleClear,children:\"Clear\"})})]})})]})})});}\n// CONCATENATED MODULE: ./src/views/SearchPage.js\nvar SearchPage_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{icon:{marginRight:theme.spacing(2)},cardGrid:{paddingTop:theme.spacing(8),paddingBottom:theme.spacing(8)},footer:{backgroundColor:theme.palette.background.paper,padding:theme.spacing(6)},margin:{margin:theme.spacing(1)},formControl:{margin:theme.spacing(1),minWidth:120}};});function SearchPage(){var classes=SearchPage_useStyles();var _useState=Object(react[\"useState\"])({apiResponse:{books:[]},searchTerms:[],isLoading:false,requestError:\"\",success:false}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];console.log(\"Search page render\");/* \nSingle handleRequest function that will trigger the proper API function based on the\ntype of search \n */var handleRequest=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(searchInput){var quote,bookSearch,author,bookTitle,genre,yearFrom,yearTo,terms;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:quote=searchInput.quote,bookSearch=searchInput.bookSearch,author=searchInput.author,bookTitle=searchInput.bookTitle,genre=searchInput.genre,yearFrom=searchInput.yearFrom,yearTo=searchInput.yearTo;setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isLoading:true,requestError:\"\",apiResponse:\"\"}));console.log(state.isLoading);terms=quote.split(\" \");_context.next=6;return api_getSearchResults(bookSearch?\"/books_from_terms_list\":\"/quotes_from_terms_list\",{terms:terms,author:author,bookTitle:bookTitle,genre:genre,yearFrom:yearFrom,yearTo:yearTo}).then(function(response){// console.log(\"res in setAPIResponse: \" + JSON.stringify(response));\nsetState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isLoading:false,apiResponse:{books:response.books},// book object, might contain quote as well \nrequestError:\"\",success:true,searchTerms:quote.split(\" \")}));}).catch(function(errorResponse){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isLoading:false,requestError:errorResponse,apiResponse:{quote:\"\"}}));});case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleRequest(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CssBaseline[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchBar,{handleRequest:handleRequest}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:classes.cardGrid,maxWidth:\"md\",children:state.isLoading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true// spacing={6}\n,justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CircularProgress[\"a\" /* default */],{})}):state.success&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ResultPage,{results:state.apiResponse.books,searchTerms:state.searchTerms})// provide list of results\n})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"footer\",{className:classes.footer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",align:\"center\",gutterBottom:true,children:\"Footer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"subtitle1\",align:\"center\",color:\"textSecondary\",component:\"p\",children:\"Something here to give the footer a purpose!\"})]})]});}\n// CONCATENATED MODULE: ./src/api/findQuote.js\nvar findQuote_axios=__webpack_require__(55);// const findQuoteURL = 'http://localhost:9000/findQuote';\nvar findQuoteURL='https://ttds-14.herokuapp.com/quote_from_id';var findQuote=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(quoteId){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",findQuote_axios.post(findQuoteURL,{_id:quoteId,responseType:'json'}).then(function(response){console.log(\"res in callAPI is: \"+JSON.stringify(response));return response.data;}).catch(function(error){throw error;}));case 1:case\"end\":return _context.stop();}}},_callee);}));return function findQuote(_x){return _ref.apply(this,arguments);};}();/* harmony default export */ var api_findQuote = (findQuote);\n// CONCATENATED MODULE: ./src/api/setUp.js\nvar setUp_axios=__webpack_require__(55);var setUpURL='http://localhost:9000/SetUp';var setUp=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",setUp_axios.get(setUpURL,{}).then(function(response){console.log(\"res in callAPI is: \"+JSON.stringify(response));return response.data;}).catch(function(error){throw error;}));case 1:case\"end\":return _context.stop();}}},_callee);}));return function setUp(){return _ref.apply(this,arguments);};}();/* harmony default export */ var api_setUp = (setUp);\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useState=Object(react[\"useState\"])({connectDB:{isLoading:false,error:\"\"}}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];// useEffect(() => {\n//     const setUpRequest = async () => {\n//       setState({ ...state, connectDB: { ...state.connectDB, isLoading: true } });\n//       await setUp()\n//         .then(response => {\n//           console.log(response);\n//           setState({\n//             ...state,\n//             connectDB: {\n//               isLoading: false,\n//             }\n//           });\n//         })\n//         .catch(errorResponse => {\n//           setState({\n//             ...state,\n//             connectDB: { isLoading: false, error: errorResponse }\n//           });\n//         });\n//     };\n//     setUpRequest();\n//   }, []); // empty list of dependencies ensures the hooks is only called upon rendering of the component\nreturn/*#__PURE__*/ (//TODO: Display different component in case of a db connection error \nObject(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchPage,{})}));}/* harmony default export */ var src_App = (App_App);// class App extends React.Component {\n//   constructor(props) {\n//       super(props);\n//       this.state = { apiResponse: \"\" , quoteId: \"\"};\n//       this.getQuoteId = this.getQuoteId.bind(this);\n//       this.findQuote = this.findQuote.bind(this);\n//       this.setApiResponse = this.setApiResponse.bind(this);\n//   }\n//   async callAPI(route, options) {\n//     let quote = await fetch(`http://localhost:9000/${route}`, options);\n//     let res = await quote.json();\n//     console.log(\"res in callAPI is: \" + JSON.stringify(res));\n//     return res;\n//   }\n//   getQuoteId(event) {\n//     this.setState({quoteId: event.target.value});\n//   }\n//   setApiResponse(res) {\n//     // alert(\"res: \" + res);\n//     console.log(\"res in setAPIResponse: \" + JSON.stringify(res));\n//     this.setState({apiResponse: JSON.stringify(res.quote)});\n//   }\n//   async findQuote(event) {\n//     event.preventDefault();\n//     const requestOptions = {\n//         method: 'POST',\n//         headers: { 'Content-Type': 'application/json' },\n//         body: JSON.stringify({_id: this.state.quoteId})\n//     };\n//     let res = await this.callAPI(\"findQuote\", requestOptions);\n//     console.log(\"res in findQuote: \" + JSON.stringify(res));\n//     this.setApiResponse(res);\n//   }\n//   async componentDidMount() {\n//     let res = await this.callAPI(\"setUp\", {});\n//     console.log(res);\n//   }\n//   render() {\n//       return (\n//           <div>\n//               <SearchPage/>\n//               <input type=\"text\" value={this.state.quoteId} onChange={this.getQuoteId}></input>\n//               <button onClick={this.findQuote}>Click me</button>\n//               <p>{this.state.apiResponse}</p>\n//           </div>\n//       );\n//   }\n// }\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 192)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 91:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[122,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/components/BookCard.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/views/ResultPage.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/api/getSearchResults.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/components/SearchFeatures.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/components/SearchBar.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/views/SearchPage.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/api/findQuote.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/api/setUp.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/App.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/reportWebVitals.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/index.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/postcss-loader/src/index.js??postcss!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/index.css","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/postcss-loader/src/index.js??postcss!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/App.css"],"names":["useStyles","makeStyles","theme","root","display","marginTop","marginBottom","border","cover","maxWidth","minWidth","padding","objectFit","details","flexDirection","content","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","BookCard","resultObj","searchTerms","classes","React","useState","expanded","setExpanded","book","quote","quoteArr","split","authors","i","length","handleExpandClick","thumbnail","title","previewLink","color","align","margin","width","clsx","categories","pageCount","publishedDate","averageRating","ratingsCount","ResultPage","results","data","offset","perPageResults","state","setState","console","log","useEffect","onRender","handlePaginationClick","Object","keys","count","Number","Math","floor","e","slice","filter","map","idx","axios","require","baseURL","getSearchResults","endpoint","params","post","terms","author","bookTitle","genre","yearTo","yearFrom","responseType","then","response","catch","error","formControl","spacing","years","push","SearchFeatures","props","bookSearch","handleChange","field","value","target","checked","name","heroContent","backgroundColor","palette","background","paper","heroButtons","SearchBar","event","handleSearchFeaturesChange","param","handleClear","preventDefault","apiResponse","success","handleSubmit","handleRequest","icon","marginRight","cardGrid","paddingTop","paddingBottom","footer","SearchPage","books","isLoading","requestError","searchInput","errorResponse","findQuoteURL","findQuote","quoteId","_id","JSON","stringify","setUpURL","setUp","get","App","connectDB","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport clsx from 'clsx';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Highlighter from \"react-highlight-words\";\nimport ShowMoreText from 'react-show-more-text';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    marginTop: '5%',\n    marginBottom: '5%',\n    border: '0.2em solid lightgrey'\n  },\n  cover: {\n    maxWidth: 120,\n    minWidth: 120,\n    padding: 7,\n    objectFit: 'cover',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  content: {\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  }\n}));\n\nexport default function BookCard({resultObj, searchTerms}) {\n    const classes = useStyles();\n    const [expanded, setExpanded] = React.useState(false);\n\n    let book  = resultObj;\n    let quote = resultObj.quote ?  resultObj.quote : \"\";\n    let quoteArr = quote.split(\" \");\n    let authors = \"\"\n    for (let i = 0; i < book.authors.length; i++) {\n      if (i == book.authors.length - 1) {\n        authors += book.authors[i]\n      } else {\n        authors += book.authors[i] + \", \"\n      }\n    }\n\n    const handleExpandClick = () => {\n      setExpanded(!expanded);\n    };\n\n\n    return (\n\n      <Card className={classes.root} >\n        <CardMedia\n          className={classes.cover}\n        >\n          <img src={book.thumbnail} style={{\"max-height\" : \"100%\", \"max-width\" : \"100%\", \n          \"border\" : \"0.2em solid black\", \"border-radius\" : \"0.1em\"}}/>\n        </CardMedia>\n        <div className={classes.details}>\n        \n          <CardContent className={classes.content}>\n            <Typography variant=\"h5\" component=\"h2\">\n              {book.title}\n            </Typography>\n            <Typography gutterBottom component=\"h3\"   >\n              {authors}\n            </Typography>\n              \n            <Typography gutterBottom component=\"h4\" variant=\"h6\" style={{\"color\" : \"darkblue\", \"font-style\": \"italic\"}} >\n              \n            {(quote.length > 300 ? \n            <ShowMoreText\n            /* Default options */\n            lines={3}\n            more='Show more'\n            less='Show less'\n            className='content-css'\n            anchorClass='my-anchor-css-class'\n            expanded={false}\n            width={0}\n            >\n              <q cite=\"https://www.mozilla.org/en-US/about/history/details/\">{\n            <Highlighter\n            highlightClassName=\"YourHighlightClass\"\n            searchWords={searchTerms}\n            autoEscape={true}\n            textToHighlight={quote}\n          >\n            \n            </Highlighter>}</q>\n            </ShowMoreText>\n            : \n            <q cite=\"https://www.mozilla.org/en-US/about/history/details/\">{\n            <Highlighter\n            highlightClassName=\"YourHighlightClass\"\n            searchWords={searchTerms}\n            autoEscape={true}\n            textToHighlight={quote}\n            >\n            </Highlighter>}</q>\n            )}\n            \n                \n              \n            </Typography>\n            <Button disableRipple size=\"small\" color=\"primary\" href={book.previewLink}  target=\"_blank\" style={{'cursor' : 'pointer',  \n              'textTransform': \"none\", 'backgroundColor': 'transparent'  }}>\n              View on Google Books\n            </Button>\n            <hr  style={{\n              color: 'lightblue',\n              align: 'left',\n              margin: 0,\n              width: '100%'\n            }}/>\n          </CardContent>\n          \n          <IconButton\n          className={clsx(classes.expand, {\n            [classes.expandOpen]: expanded,\n          })}\n          onClick={handleExpandClick}\n          aria-expanded={expanded}\n          aria-label=\"show more\"\n          >\n            <ExpandMoreIcon />\n          </IconButton>\n          <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n            <CardContent>\n              <Typography gutterBottom variant=\"h6\" component=\"h2\" >\n                Further Book Details\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • Book categories: {book.categories}\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • Number of pages: {book.pageCount}\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • Published date: {book.publishedDate}\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • ISBN: {book['isbn-13']}\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • Average rating: {book.averageRating == \"\" ? \"\" :  book.averageRating + \"/5\"}\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • Number of ratings: {book.ratingsCount}\n              </Typography>\n            </CardContent>\n          </Collapse>\n        </div>\n      </Card>\n\n    )              \n}\n\n","import React, {useState,useEffect} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport BookCard from \"../components/BookCard.js\"\nimport Pagination from '@material-ui/lab/Pagination';\n\n//  props will be a list of book objects\nexport default function ResultPage({results, searchTerms}) {\n\n      const [state, setState] = useState({\n          data : [],\n          searchTerms : [],\n          offset : 1,\n          perPageResults: 10,\n        });\n\n        console.log(\"Result page rendered\")\n\n        \n        useEffect(() => {\n          const onRender = async () => {\n            console.log(\"Use effect hook\")\n            setState({...state, data:results, searchTerms : searchTerms}) \n            }\n          onRender()\n        },[]);\n\n\n        const handlePaginationClick = (offset) => {\n          setState({...state,offset:offset})\n        }\n\n        // Calculate how many pagination page we will have \n        var length = Object.keys(state.data).length;\n        var count;\n        if (length % Number(state.perPageResults) == 0)\n          count = Math.floor(length/Number(state.perPageResults)) \n        else\n          count = Math.floor(length/Number(state.perPageResults)) + 1\n\n        console.log(\"Page count\",count)\n\n\n        return (\n        <Grid container \n        className=\"book-container\" \n        spacing={6}\n         justify=\"center\"   \n         alignItems=\"center\" \n         >\n          <Grid \n            item \n            className=\"book-card-result\"\n            xs={8}\n          >\n\n            {length > state.perPageResults &&\n              <Pagination \n              count={count} \n              page={state.offset} \n              onChange={(e, offset) => handlePaginationClick(offset)} />\n            }\n\n            {state.data.slice(\n             (state.offset -1 )*state.perPageResults, \n              (state.offset-1)*state.perPageResults + Number(state.perPageResults)).filter((book) => {\n                  return book.title != null;\n              }).map((book,idx) =>\n                  <BookCard  item key={idx} resultObj={book} searchTerms={state.searchTerms} />\n              )}\n\n            {length> state.perPageResults &&\n             <Pagination \n             count={count} \n             page={state.offset} \n             onChange={(e, offset) => handlePaginationClick(offset)} />\n            }\n\n          </Grid>\n        </Grid> \n        \n        )\n};\n\n\n","const axios = require('axios');\nconst baseURL = 'https://ttds-14.herokuapp.com';\n\nconst getSearchResults = async(endpoint, params) => {\n    console.log(\"request endpoint\",baseURL + endpoint)\n    return axios.post(baseURL + endpoint,{\n        terms: params.terms,\n        author: params.author ,\n        bookTitle: params.bookTitle, \n        genre: params.genre, \n        yearTo: params.yearTo, \n        yearFrom: params.yearFrom,\n        responseType: 'json'\n    })\n    .then(response => {\n        // console.log(\"res in callAPI is: \" + JSON.stringify(response));\n        return response.data;\n      })\n    .catch(error => {\n        throw error;\n    });   \n}\n\nexport default getSearchResults;\n\n\n","import React ,{useState,useEffect} from 'react';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n      },\n  }));\n  \n  \nlet years = []\nfor(var i = 1990; i< 2022; i++){\n  years.push(i)\n}\n\nexport default function SearchFeatures(props) {\n    const classes = useStyles();\n\n    const [state, setState] = useState({\n          bookSearch : false,\n          author : \"\",\n          bookTitle: \"\",\n          genre: \"\",\n          yearFrom:1990,\n          yearTo : 2021\n      });\n    \n\n    \n    const handleChange = (field,value) => {\n        console.log(\"Field\",field)\n        console.log(\"Value\",value)\n\n        // TODO \n        // Year has to be checked and error message displayed\n        setState({...state,[field]:value})\n        \n        /* Pass state to parent component  */\n        props.handleChange(field,value)\n    };\n\n\n    return(\n    <>\n         {/* Extra search features */}\n         <Grid container>  \n         <FormControlLabel\n           control={<Switch checked={state.bookSearch} onChange={e => handleChange('bookSearch', e.target.checked)} name=\"bookSearch\" color=\"primary\"/>}\n           label=\"Book Search\"\n         />\n       </Grid>\n\n       <Grid container spacing={1}>\n\n         {/* First row of advance Search */}\n         <Grid container item xs={12} spacing={3}>\n           <Grid container item xs={4} >\n             <TextField \n             id=\"standard-basic\" label=\"Book Title\" \n             value={state.bookTitle}\n             onChange={e => handleChange('bookTitle', e.target.value)} /> \n            </Grid>\n           <Grid container item xs={4} >\n             <TextField \n             id=\"standard-basic\" label=\"Author\" \n             value={state.author}\n             onChange={e => handleChange('author', e.target.value)} />  \n            </Grid>\n           <Grid container item xs={4} >\n             <TextField \n             id=\"standard-basic\" label=\"Genre\" \n             value={state.genre}\n             onChange={e => handleChange('genre', e.target.value)} />  \n            </Grid>            \n         </Grid>\n         \n         {/* Second row of advance Search */}\n         <Grid container item xs={12} spacing={3}>\n\n         \n           <Grid container item xs={4}>\n             <FormControl className={classes.formControl}>\n                 <InputLabel id=\"year-from\">Year From</InputLabel>\n                 <Select\n                   labelId=\"year-from-select\"\n                   id=\"year-from-select\"\n                   // open={open}\n                   // onClose={handleClose}\n                   // onOpen={handleOpen}\n                   value={state.yearFrom}\n                   onChange={e => handleChange('yearFrom', e.target.value)}\n                 >\n                   {years.map((name) => (\n                               <MenuItem key={name} value={name} >\n                                 {name}\n                               </MenuItem>\n                             ))}\n                 </Select>\n             </FormControl>\n           </Grid>\n\n           <Grid container item xs={4}>\n             <FormControl className={classes.formControl}>\n                 <InputLabel id=\"year-to\">Year To</InputLabel>\n                 <Select\n                   labelId=\"year-to-select\"\n                   id=\"year-to-select\"\n                   // open={open}\n                   // onClose={handleClose}\n                   // onOpen={handleOpen}\n                   value={state.yearTo}\n                   onChange={e => handleChange('yearTo', e.target.value)}\n                 >\n                   {years.map((name) => (\n                               <MenuItem key={name} value={name} >\n                                 {name}\n                               </MenuItem>\n                             ))}\n                 </Select>\n             </FormControl>\n           </Grid>\n         </Grid>\n       </Grid>\n    </>\n    )\n\n}\n","import React ,{useState,useEffect} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\n\nimport SearchFeatures from \"./SearchFeatures.js\";\n\n\nconst useStyles = makeStyles((theme) => ({\n\n      heroContent: {\n        backgroundColor: theme.palette.background.paper,\n        padding: theme.spacing(8, 0, 6),\n      },\n      heroButtons: {\n        marginTop: theme.spacing(4),\n      },\n      margin: {\n        margin: theme.spacing(1),\n      },\n  }));\n  \n\n\nexport default function SearchBar(props) {\n    const classes = useStyles();\n\n    const [state, setState] = useState({\n        quote:\"\",\n        bookSearch : false,\n        author : \"\",\n        bookTitle: \"\",\n        genre: \"\",\n        yearTo : 2021,\n        yearFrom: 1990\n      });\n\n    const handleChange = (event) => {\n        setState({...state,quote: event.target.value})\n    };\n    \n    const handleSearchFeaturesChange = (param,value) =>{\n        setState({...state, [param]:value});\n        console.log(\"Search features input:\",param,value);\n    }\n    \n    const handleClear=(event)=> {\n        event.preventDefault();\n        setState({...state, quote:\"\",apiResponse:{},success : false})\n        // setQuote(\"\");\n        // setSubmit(false)\n    }\n\n    \n    const handleSubmit = () =>{\n        // Validate input \n        // If input is correct then make the request otherwise change state\n        // and display appropriate component\n        // findQuoteRequest();\n\n        props.handleRequest(state)\n    }\n\n    \n    return(\n    <>\n        <div className={classes.heroContent}>\n          <Container maxWidth=\"sm\">\n            <Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\n              Search a book by a quote\n            </Typography>\n           \n           {/* Search Bar */}\n            <TextField \n            fullWidth \n            className={classes.margin} \n            label=\"Type your quote...\"\n            multiline\n            rowsMax={4}\n            value={state.quote}\n            onChange={handleChange}\n            ></TextField>\n\n            <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" paragraph>\n              Try to type something short and leading about the book you are looking for\n            </Typography>\n\n            {/* Search features component  */}\n            <SearchFeatures handleChange = {handleSearchFeaturesChange}/>\n\n            {/* Buttons */}\n            <div className={classes.heroButtons}>\n              <Grid container spacing={2} justify=\"center\">\n                <Grid item>\n                  <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\n                    Submit\n                  </Button>\n                </Grid>\n                <Grid item>\n                  <Button variant=\"outlined\" color=\"primary\" onClick={handleClear}>\n                    Clear\n                  </Button>\n                </Grid>\n              </Grid>\n            </div>\n          </Container>\n        </div>\n        \n    </>\n    )\n\n}\n\n","import React, {useState,useEffect} from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport BookIcon from '@material-ui/icons/Book';\nimport Grid from '@material-ui/core/Grid';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n\nimport ResultPage from \"./ResultPage.js\"\nimport getSearchResults from \"../api/getSearchResults.js\";\nimport SearchBar from \"../components/SearchBar.js\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    marginRight: theme.spacing(2),\n  },\n  cardGrid: {\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n  },\n  footer: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(6),\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n\n}));\n\n\nexport default function SearchPage() {\n  const classes = useStyles();\n\n  const [state, setState] = useState({\n    apiResponse: {\n      books:[]\n    } , \n    searchTerms : [],\n    isLoading : false,\n    requestError:\"\",\n    success: false\n  });\n\n  console.log(\"Search page render\")\n\n/* \nSingle handleRequest function that will trigger the proper API function based on the\ntype of search \n */\n  const handleRequest = async (searchInput) => {\n\n    let {\n      quote, \n      bookSearch,\n      author ,\n      bookTitle,\n      genre,\n      yearFrom,\n      yearTo} = searchInput\n\n\n    setState({ ...state, isLoading: true, requestError: \"\", apiResponse: \"\" });\n    console.log(state.isLoading)\n    \n    let terms = quote.split(\" \") \n    \n    await getSearchResults(\n      bookSearch ? \"/books_from_terms_list\" : \"/quotes_from_terms_list\",\n\n      {terms, author ,bookTitle, genre, yearFrom, yearTo}\n      )\n        .then(response => {\n            // console.log(\"res in setAPIResponse: \" + JSON.stringify(response));\n            setState({\n                ...state,\n                isLoading: false,\n                apiResponse: {\n                  books : response.books}, // book object, might contain quote as well \n                requestError: \"\",\n                success:true,\n                searchTerms:quote.split(\" \")\n            });\n        })\n        .catch(errorResponse => {\n            setState({\n                ...state,\n                isLoading: false,\n                requestError: errorResponse,\n                apiResponse: {\n                  quote:\"\"\n                }\n            });\n        });        \n  }\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      {/* <AppBar position=\"relative\">\n        <Toolbar>\n          <BookIcon className={classes.icon} />\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\n            Book Search Engine\n          </Typography>\n        </Toolbar>\n      </AppBar> */}\n      <main>\n        {/* Search bar including the Advance search options */}\n        <SearchBar handleRequest={handleRequest}/>\n\n        {/* Results container */}\n        <Container className={classes.cardGrid} maxWidth=\"md\">\n          {/* Container to hold the results of the search  */}\n          {state.isLoading\n          ? ( <Grid container \n            // spacing={6}\n             justify=\"center\"   \n             alignItems=\"center\" \n             >\n            <CircularProgress />\n          </Grid>) \n          :  ( state.success && <ResultPage results={state.apiResponse.books} searchTerms={state.searchTerms} /> ) // provide list of results\n          }\n        </Container>\n      </main>\n\n      {/* Footer */}\n      <footer className={classes.footer}>\n        <Typography variant=\"h6\" align=\"center\" gutterBottom>\n          Footer\n        </Typography>\n        <Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" component=\"p\">\n          Something here to give the footer a purpose!\n        </Typography>\n      </footer>\n      {/* End footer */}\n    </React.Fragment>\n  );\n}","const axios = require('axios');\n// const findQuoteURL = 'http://localhost:9000/findQuote';\nconst findQuoteURL = 'https://ttds-14.herokuapp.com/quote_from_id';\n\nconst findQuote = async(quoteId) => {\n    return axios.post(findQuoteURL,{\n        _id: quoteId,\n        responseType: 'json'\n    })\n    .then(response => {\n        console.log(\"res in callAPI is: \" + JSON.stringify(response));\n        return response.data;\n      })\n    .catch(error => {\n        throw error;\n    });   \n}\n\nexport default findQuote;\n\n\n","const axios = require('axios');\nconst setUpURL = 'http://localhost:9000/SetUp';\n\nconst setUp = async() => {\n    return axios.get(setUpURL,{})\n    .then(response => {\n        console.log(\"res in callAPI is: \" + JSON.stringify(response));\n        return response.data;\n      })\n    .catch(error => {\n        throw error;\n    });   \n}\n\nexport default setUp;\n\n\n","import './App.css';\nimport SearchPage from \"./views/SearchPage.js\";\nimport React, { useState,useEffect } from \"react\";\nimport findQuote from \"./api/findQuote.js\";\nimport setUp from \"./api/setUp.js\"\n\nfunction App(){\n    const [state, setState] = useState({\n        connectDB:{\n            isLoading:false,\n            error:\"\"\n        }\n    });\n\n\n    // useEffect(() => {\n    //     const setUpRequest = async () => {\n    //       setState({ ...state, connectDB: { ...state.connectDB, isLoading: true } });\n    //       await setUp()\n    //         .then(response => {\n    //           console.log(response);\n    //           setState({\n    //             ...state,\n    //             connectDB: {\n    //               isLoading: false,\n    //             }\n    //           });\n    //         })\n    //         .catch(errorResponse => {\n    //           setState({\n    //             ...state,\n    //             connectDB: { isLoading: false, error: errorResponse }\n    //           });\n    //         });\n    //     };\n    \n    //     setUpRequest();\n        \n    //   }, []); // empty list of dependencies ensures the hooks is only called upon rendering of the component\n\n    return(\n        //TODO: Display different component in case of a db connection error \n        <div>\n        <SearchPage/>\n        </div>\n    )\n}\nexport default App;\n\n\n\n\n\n\n\n\n\n\n\n\n\n// class App extends React.Component {\n//   constructor(props) {\n//       super(props);\n//       this.state = { apiResponse: \"\" , quoteId: \"\"};\n//       this.getQuoteId = this.getQuoteId.bind(this);\n//       this.findQuote = this.findQuote.bind(this);\n//       this.setApiResponse = this.setApiResponse.bind(this);\n//   }\n\n//   async callAPI(route, options) {\n//     let quote = await fetch(`http://localhost:9000/${route}`, options);\n//     let res = await quote.json();\n//     console.log(\"res in callAPI is: \" + JSON.stringify(res));\n//     return res;\n//   }\n\n//   getQuoteId(event) {\n//     this.setState({quoteId: event.target.value});\n//   }\n\n//   setApiResponse(res) {\n//     // alert(\"res: \" + res);\n//     console.log(\"res in setAPIResponse: \" + JSON.stringify(res));\n//     this.setState({apiResponse: JSON.stringify(res.quote)});\n//   }\n\n//   async findQuote(event) {\n//     event.preventDefault();\n//     const requestOptions = {\n//         method: 'POST',\n//         headers: { 'Content-Type': 'application/json' },\n//         body: JSON.stringify({_id: this.state.quoteId})\n//     };\n//     let res = await this.callAPI(\"findQuote\", requestOptions);\n//     console.log(\"res in findQuote: \" + JSON.stringify(res));\n//     this.setApiResponse(res);\n//   }\n\n//   async componentDidMount() {\n//     let res = await this.callAPI(\"setUp\", {});\n//     console.log(res);\n//   }\n\n//   render() {\n//       return (\n//           <div>\n//               <SearchPage/>\n//               <input type=\"text\" value={this.state.quoteId} onChange={this.getQuoteId}></input>\n//               <button onClick={this.findQuote}>Click me</button>\n//               <p>{this.state.apiResponse}</p>\n//           </div>\n//       );\n//   }\n// }\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}