{"code":"(this[\"webpackJsonpbook-search-client\"]=this[\"webpackJsonpbook-search-client\"]||[]).push([[0],{131:function(e,t,r){\"use strict\";r.r(t);var n=r(0),a=r.n(n),o=r(14),c=r.n(o),s=(r(98),r(13)),i=(r(99),r(15)),l=r.n(i),u=r(8),h=r(18),j=r(187),b=r(194),g=r(132),d=r(177),m=r(193),O=r(195),p=r(12),f=r(182),x=r(184),v=r(180),y=r(183),k=r(185),T=r(4),C=r(186),R=r(77),w=r.n(R),S=r(58),N=r.n(S),q=r(74),B=r.n(q),F=r(75),_=r.n(F),I=r(2),P=Object(d.a)((function(e){return{root:{display:\"flex\",marginTop:\"5%\",marginBottom:\"5%\",border:\"0.2em solid lightgrey\"},cover:{maxWidth:120,minWidth:120,padding:7,objectFit:\"cover\"},details:{display:\"flex\",flexDirection:\"column\",minWidth:\"75%\"},content:{},expand:{transform:\"rotate(0deg)\",marginLeft:\"auto\",transition:e.transitions.create(\"transform\",{duration:e.transitions.duration.shortest})},expandOpen:{transform:\"rotate(180deg)\"}}}));function E(e){for(var t=e.resultObj,r=e.searchTerms,n=P(),o=a.a.useState(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],u=t,h=t.quote?t.quote:\"\",j=(h.split(\" \"),\"\"),b=0;b<u.authors.length;b++)b==u.authors.length-1?j+=u.authors[b]:j+=u.authors[b]+\", \";var d=Object(I.jsxs)(v.a,{style:{fontStyle:\"italic\"},children:[Object(I.jsxs)(g.a,{gutterBottom:!0,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 Book categories: \",u.categories]}),Object(I.jsxs)(g.a,{gutterBottom:!0,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 Number of pages: \",u.pageCount]}),Object(I.jsxs)(g.a,{gutterBottom:!0,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 Published date: \",u.publishedDate]}),Object(I.jsxs)(g.a,{gutterBottom:!0,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 ISBN: \",u[\"isbn-13\"]]}),Object(I.jsxs)(g.a,{gutterBottom:!0,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 Average rating: \",Object(I.jsx)(_.a,{stars:u.averageRating,size:15,spacing:2,fill:\"#ea9c46\"})]}),Object(I.jsxs)(g.a,{gutterBottom:!0,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 Number of ratings: \",u.ratingsCount]})]}),m=d;h.length>300?m=Object(I.jsx)(B.a,{lines:3,more:\"Show more\",less:\"Show less\",className:\"content-css\",anchorClass:\"my-anchor-css-class\",expanded:!1,width:0,children:Object(I.jsx)(\"q\",{cite:\"https://www.mozilla.org/en-US/about/history/details/\",children:Object(I.jsx)(N.a,{highlightClassName:\"YourHighlightClass\",searchWords:r,autoEscape:!0,textToHighlight:h})})}):h.length<=300&&h.length>0&&(m=Object(I.jsx)(\"q\",{cite:\"https://www.mozilla.org/en-US/about/history/details/\",children:Object(I.jsx)(N.a,{highlightClassName:\"YourHighlightClass\",searchWords:r,autoEscape:!0,textToHighlight:h})}));return Object(I.jsxs)(f.a,{className:n.root,children:[Object(I.jsx)(y.a,{className:n.cover,children:Object(I.jsx)(\"img\",{src:u.thumbnail,style:{\"max-height\":\"100%\",\"max-width\":\"100%\",border:\"0.2em solid black\",\"border-radius\":\"0.1em\"}})}),Object(I.jsxs)(\"div\",{className:n.details,children:[Object(I.jsxs)(v.a,{className:n.content,children:[Object(I.jsx)(g.a,{variant:\"h5\",component:\"h2\",children:u.title}),Object(I.jsx)(g.a,{gutterBottom:!0,component:\"h3\",children:j}),Object(I.jsx)(g.a,{gutterBottom:!0,component:\"h4\",variant:\"h6\",style:{color:\"darkblue\",\"font-style\":\"italic\"},children:m}),Object(I.jsx)(x.a,{disableRipple:!0,size:\"small\",color:\"primary\",href:u.previewLink,target:\"_blank\",style:{cursor:\"pointer\",textTransform:\"none\",backgroundColor:\"transparent\"},children:\"View on Google Books\"}),Object(I.jsx)(\"hr\",{style:{color:\"lightblue\",align:\"left\",width:\"100%\"}})]}),h.length>0?Object(I.jsx)(k.a,{className:Object(T.a)(n.expand,Object(p.a)({},n.expandOpen,i)),onClick:function(){l(!i)},\"aria-expanded\":i,\"aria-label\":\"show more\",children:Object(I.jsx)(w.a,{})}):\"\",h.length>0?Object(I.jsx)(C.a,{in:i,timeout:\"auto\",unmountOnExit:!0,children:h.length>0?d:\"\"}):\"\"]})]})}var L=r(198),W=r(199),A=r(188);function M(e){var t=e.results,r=e.searchTerms,a=Object(n.useState)({data:[],searchTerms:[],offset:1,perPageResults:10,sort:!1}),o=Object(s.a)(a,2),c=o[0],i=o[1];console.log(\"Result page rendered\"),Object(n.useEffect)((function(){(function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(\"Use effect hook\"),i(Object(u.a)(Object(u.a)({},c),{},{data:t,searchTerms:r}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var b,g=function(e){i(Object(u.a)(Object(u.a)({},c),{},{offset:e}))},d=function(e,t){return e.sort((function(e,r){var n=e[t],a=r[t];return n<a?1:n>a?-1:0}))},m=Object.keys(c.data).length;return b=m%Number(c.perPageResults)==0?Math.floor(m/Number(c.perPageResults)):Math.floor(m/Number(c.perPageResults))+1,console.log(\"Page count\",b),Object(I.jsx)(j.a,{container:!0,className:\"book-container\",spacing:6,justify:\"center\",alignItems:\"center\",children:Object(I.jsxs)(j.a,{item:!0,className:\"book-card-result\",xs:8,children:[m>0&&Object(I.jsxs)(j.a,{container:!0,spacing:3,children:[m>c.perPageResults&&Object(I.jsx)(j.a,{item:!0,xs:8,children:Object(I.jsx)(L.a,{count:b,page:c.offset,onChange:function(e,t){return g(t)}})}),Object(I.jsx)(j.a,{item:!0,xs:2,children:Object(I.jsx)(A.a,{control:Object(I.jsx)(W.a,{checked:c.sort,onChange:function(e){return function(e){console.log(\"Sort\");var t=c.data;t=d(t,\"averageRating\"),i(Object(u.a)(Object(u.a)({},c),{},{sort:e,data:t,sorting:!1})),console.log(\"Sorted results\",c.data)}(e.target.checked)},name:\"sort\",color:\"primary\"}),label:\"Average Rating\",labelPlacement:\"End\"})})]}),c.data.slice((c.offset-1)*c.perPageResults,(c.offset-1)*c.perPageResults+Number(c.perPageResults)).filter((function(e){return null!=e.title})).map((function(e,t){return Object(I.jsx)(E,{item:!0,resultObj:e,searchTerms:c.searchTerms},t)})),m>c.perPageResults&&Object(I.jsx)(L.a,{count:b,page:c.offset,onChange:function(e,t){return g(t)}})]})})}for(var Y=r(35),D=\"http://188.166.173.191:5000\",G=function(){var e=Object(h.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"request endpoint\",D+t),e.abrupt(\"return\",Y.post(D+t,{quote:r.quote,author:r.author,bookTitle:r.bookTitle,genre:r.genre,yearTo:r.yearTo,yearFrom:r.yearFrom,minRating:r.minRating,responseType:\"json\"}).then((function(e){return console.log(\"res in callAPI is: \"+JSON.stringify(e)),e.data})).catch((function(e){throw e})));case 2:case\"end\":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),H=r(200),J=r(202),z=r(196),U=r(201),V=r(192),K=r(197),Q=Object(d.a)((function(e){return{formControl:{minWidth:120}}})),X=[],Z=1990;Z<2022;Z++)X.push(Z);var $=[\"Fiction\",\"Biography & Autobiography\",\"Juvenile Fiction\",\"Poetry\",\"Young Adult Fiction\",\"Philosophy\",\"Young Adult Nonfiction\",\"True Crime\",\"Indic fiction (English)\"],ee=Object(n.forwardRef)((function(e,t){var r=Q(),a=e.authors,o=e.book_titles,c=Object(n.useState)({bookSearch:!1,author:\"\",bookTitle:\"\",genre:\"\",yearFrom:1990,yearTo:2021,minRating:1}),i=Object(s.a)(c,2),l=i[0],h=i[1],b=function(t,r){console.log(\"Field\",t),console.log(\"Value\",r),h(Object(u.a)(Object(u.a)({},l),{},Object(p.a)({},t,r))),e.handleChange(t,r)},g=function(){h(Object(u.a)(Object(u.a)({},l),{},{author:\"\",bookTitle:\"\",genre:\"\",yearFrom:1990,yearTo:2021}))};return Object(n.useImperativeHandle)(t,(function(){return{handleClear:g}})),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(j.a,{container:!0,children:Object(I.jsx)(A.a,{control:Object(I.jsx)(W.a,{checked:l.bookSearch,onChange:function(e){return b(\"bookSearch\",e.target.checked)},name:\"bookSearch\",color:\"primary\"}),label:\"Book Search\"})}),Object(I.jsxs)(j.a,{container:!0,spacing:1,children:[Object(I.jsxs)(j.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(I.jsx)(j.a,{container:!0,item:!0,xs:4,children:Object(I.jsx)(K.a,{id:\"book-title-select\",options:o,getOptionLabel:function(e){return e.book_title},style:{width:300},renderInput:function(e){return Object(I.jsx)(H.a,Object(u.a)(Object(u.a)({},e),{},{label:\"Book Title\"}))},onChange:function(e,t){return b(\"bookTitle\",t?t.book_title:t)}})}),Object(I.jsx)(j.a,{container:!0,item:!0,xs:4,children:Object(I.jsx)(K.a,{id:\"author-select\",options:a,getOptionLabel:function(e){return e.name},style:{width:300},renderInput:function(e){return Object(I.jsx)(H.a,Object(u.a)(Object(u.a)({},e),{},{label:\"Author\"}))},onChange:function(e,t){return b(\"author\",t?t.name:t)}})}),Object(I.jsx)(j.a,{container:!0,item:!0,xs:4,children:Object(I.jsxs)(V.a,{className:r.formControl,children:[Object(I.jsx)(U.a,{id:\"genre\",children:\"Genre\"}),Object(I.jsx)(z.a,{labelId:\"genre-selcet\",id:\"genre-select\",value:l.genre,onChange:function(e){return b(\"genre\",e.target.value)},children:$.map((function(e){return Object(I.jsx)(J.a,{value:e,children:e},e)}))})]})})]}),Object(I.jsxs)(j.a,{container:!0,item:!0,xs:12,spacing:3,children:[Object(I.jsx)(j.a,{container:!0,item:!0,xs:4,children:Object(I.jsxs)(V.a,{className:r.formControl,children:[Object(I.jsx)(U.a,{id:\"year-from\",children:\"Year From\"}),Object(I.jsx)(z.a,{labelId:\"year-from-select\",id:\"year-from-select\",value:l.yearFrom,onChange:function(e){return b(\"yearFrom\",e.target.value)},children:X.map((function(e){return Object(I.jsx)(J.a,{value:e,children:e},e)}))})]})}),Object(I.jsx)(j.a,{container:!0,item:!0,xs:4,children:Object(I.jsxs)(V.a,{className:r.formControl,children:[Object(I.jsx)(U.a,{id:\"year-to\",children:\"Year To\"}),Object(I.jsx)(z.a,{labelId:\"year-to-select\",id:\"year-to-select\",value:l.yearTo,onChange:function(e){return b(\"yearTo\",e.target.value)},children:X.map((function(e){return Object(I.jsx)(J.a,{value:e,children:e},e)}))})]})}),Object(I.jsx)(j.a,{container:!0,item:!0,xs:4,children:Object(I.jsxs)(V.a,{className:r.formControl,children:[Object(I.jsx)(U.a,{id:\"rating\",children:\"Min. Rating\"}),Object(I.jsx)(z.a,{labelId:\"rating-selcet\",id:\"rating-select\",value:l.minRating,onChange:function(e){return b(\"minRating\",e.target.value)},children:[1,2,3,4,5].map((function(e){return Object(I.jsx)(J.a,{value:e,children:e},e)}))})]})})]})]})]})})),te=r(35),re=Object(d.a)((function(e){return{heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},margin:{margin:e.spacing(1)}}}));function ne(e){var t=re(),r=Object(n.useState)({quote:\"\",bookSearch:!1,author:\"\",bookTitle:\"\",genre:\"\",yearTo:2021,yearFrom:1990,minRating:1,correction:\"\"}),a=Object(s.a)(r,2),o=a[0],c=a[1],i=Object(n.useRef)(null);return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(\"div\",{className:t.heroContent,children:Object(I.jsxs)(m.a,{maxWidth:\"sm\",children:[Object(I.jsx)(g.a,{component:\"h1\",variant:\"h2\",align:\"center\",color:\"textPrimary\",gutterBottom:!0,children:\"Search a book by a quote\"}),Object(I.jsx)(H.a,{fullWidth:!0,className:t.margin,label:\"Type your quote...\",multiline:!0,rowsMax:4,value:o.quote,onChange:function(e){c(Object(u.a)(Object(u.a)({},o),{},{quote:e.target.value})),te.post(\"http://188.166.173.191:5000/spellcheck\",{search_text:e.target.value}).then((function(t){t.data.correction_exists?c(Object(u.a)(Object(u.a)({},o),{},{correction:t.data.corrected_text,quote:e.target.value})):c(Object(u.a)(Object(u.a)({},o),{},{correction:\"\",quote:e.target.value}))})).catch((function(e){console.log(\"ERROR RETRIEVINGG CORRECTION: \"+e)}))}}),Object(I.jsx)(g.a,{variant:\"h7\",align:\"center\",color:\"textSecondary\",paragraph:!0,style:{fontStyle:\"italic\",cursor:\"pointer\"},onClick:function(){c(Object(u.a)(Object(u.a)({},o),{},{quote:o.correction,correction:\"\"}))},children:0!=o.correction.length?\"Did you mean '\"+o.correction+\"'?\":\"\"}),Object(I.jsx)(g.a,{variant:\"h5\",align:\"center\",color:\"textSecondary\",paragraph:!0,value:\"hi\",children:\"Try to type something short and leading about the book you are looking for\"}),Object(I.jsx)(ee,{ref:i,handleChange:function(e,t){c(Object(u.a)(Object(u.a)({},o),{},Object(p.a)({},e,t))),console.log(\"Search features input:\",e,t)},authors:e.authors,book_titles:e.book_titles}),Object(I.jsx)(\"div\",{className:t.heroButtons,children:Object(I.jsxs)(j.a,{container:!0,spacing:2,justify:\"center\",children:[Object(I.jsx)(j.a,{item:!0,children:Object(I.jsx)(x.a,{variant:\"contained\",color:\"primary\",onClick:function(){e.handleRequest(o)},children:\"Submit\"})}),Object(I.jsx)(j.a,{item:!0,children:Object(I.jsx)(x.a,{variant:\"outlined\",color:\"primary\",onClick:function(e){e.preventDefault(),c(Object(u.a)(Object(u.a)({},o),{},{quote:\"\",apiResponse:{},success:!1})),i.current.handleClear()},children:\"Clear\"})})]})})]})})})}var ae=r(35),oe=function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",ae.post(\"http://188.166.173.191:5000/get_all_authors\",{responseType:\"json\"}).then((function(e){return console.log(\"res in callAPI is: \"+JSON.stringify(e)),e.data})).catch((function(e){throw e})));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=r(35),se=function(){var e=Object(h.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",ce.post(\"http://188.166.173.191:5000/get_all_book_titles\",{responseType:\"json\"}).then((function(e){return console.log(\"res in callAPI is: \"+JSON.stringify(e)),e.data})).catch((function(e){throw e})));case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=Object(d.a)((function(e){return{icon:{marginRight:e.spacing(2)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},margin:{margin:e.spacing(1)},formControl:{margin:e.spacing(1),minWidth:120}}}));function le(){var e=ie(),t=Object(n.useState)({apiResponse:{books:[]},searchTerms:[],isLoading:!1,errorOccur:!1,errorMsg:\"\",success:!1,authors:[],book_titles:[]}),r=Object(s.a)(t,2),o=r[0],c=r[1];console.log(\"Search page render\"),Object(n.useEffect)((function(){console.log(\"Hook to get author names\"),function(){var e=Object(h.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],r=[],e.next=4,oe().then((function(e){t=e.authors})).catch((function(e){console.log(\"Error response\",e)}));case 4:return e.next=6,se().then((function(e){r=e.book_titles})).catch((function(e){console.log(\"Error response\",e)}));case 6:c(Object(u.a)(Object(u.a)({},o),{},{book_titles:r,authors:t}));case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var i=function(){var e=Object(h.a)(l.a.mark((function e(t){var r,n,a,s,i,h,j,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.quote,n=t.bookSearch,a=t.author,s=t.bookTitle,i=t.genre,h=t.yearFrom,j=t.yearTo,b=t.minRating,c(Object(u.a)(Object(u.a)({},o),{},{isLoading:!0,requestError:\"\",apiResponse:\"\"})),console.log(o.isLoading),e.next=5,G(n?\"/books_search\":\"/quotes_search\",{quote:r,author:a,bookTitle:s,genre:i,yearFrom:h,yearTo:j,minRating:b}).then((function(e){c(Object(u.a)(Object(u.a)({},o),{},{isLoading:!1,apiResponse:{books:e.books},requestError:\"\",success:!0,errorOccur:!1,searchTerms:e.searchTerms}))})).catch((function(e){c(Object(u.a)(Object(u.a)({},o),{},{isLoading:!1,success:!1,errorOccur:!0,errorMsg:e,apiResponse:{quote:\"\"}}))}));case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(a.a.Fragment,{children:[Object(I.jsx)(b.a,{}),Object(I.jsxs)(\"main\",{children:[Object(I.jsx)(ne,{handleRequest:i,authors:o.authors,book_titles:o.book_titles}),Object(I.jsxs)(m.a,{className:e.cardGrid,maxWidth:\"md\",children:[o.isLoading?Object(I.jsx)(j.a,{container:!0,justify:\"center\",alignItems:\"center\",children:Object(I.jsx)(O.a,{})}):o.success&&(o.apiResponse.books.length>0?Object(I.jsx)(M,{results:o.apiResponse.books,searchTerms:o.searchTerms}):Object(I.jsx)(g.a,{variant:\"h6\",align:\"center\",color:\"primary\",className:\"error-message\",children:\"It seems there were no results for your query.\"})),o.errorOccur&&Object(I.jsx)(g.a,{variant:\"h6\",align:\"center\",color:\"error\",className:\"error-message\",children:\"Your request has timed out. The error message is: \".concat(o.errorMsg)})]})]}),Object(I.jsxs)(\"footer\",{className:e.footer,children:[Object(I.jsx)(g.a,{variant:\"h6\",align:\"center\",gutterBottom:!0,children:\"Footer\"}),Object(I.jsx)(g.a,{variant:\"subtitle1\",align:\"center\",color:\"textSecondary\",component:\"p\",children:\"Something here to give the footer a purpose!\"})]})]})}r(35),r(35);var ue=function(){var e=Object(n.useState)({connectDB:{isLoading:!1,error:\"\"}}),t=Object(s.a)(e,2);return t[0],t[1],Object(I.jsx)(\"div\",{children:Object(I.jsx)(le,{})})},he=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,204)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),o(e),c(e)}))};c.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(ue,{})}),document.getElementById(\"root\")),he()},98:function(e,t,r){},99:function(e,t,r){}},[[131,1,2]]]);","name":"static/js/main.d57eeba0.chunk.js","map":{"version":3,"sources":["static/js/main.d57eeba0.chunk.js"],"names":["this","push","131","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","regenerator","regenerator_default","objectSpread2","asyncToGenerator","Grid","CssBaseline","Typography","makeStyles","Container","CircularProgress","defineProperty","Card","Button","CardContent","CardMedia","IconButton","clsx_m","Collapse","ExpandMore","ExpandMore_default","main","main_default","ShowMoreText","ShowMoreText_default","Stars","Stars_default","jsx_runtime","useStyles","Object","theme","root","display","marginTop","marginBottom","border","cover","maxWidth","minWidth","padding","objectFit","details","flexDirection","content","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","BookCard","_ref","resultObj","searchTerms","classes","_React$useState","a","useState","_React$useState2","expanded","setExpanded","book","quote","authors","split","i","length","bookDetails","style","fontStyle","children","gutterBottom","variant","component","categories","pageCount","publishedDate","stars","averageRating","size","spacing","fill","ratingsCount","displayedQuote","lines","more","less","className","anchorClass","width","cite","highlightClassName","searchWords","autoEscape","textToHighlight","src","thumbnail","max-height","max-width","border-radius","title","color","font-style","disableRipple","href","previewLink","target","cursor","textTransform","backgroundColor","align","onClick","aria-expanded","aria-label","in","timeout","unmountOnExit","Pagination","Switch","FormControlLabel","ResultPage","results","_useState","data","offset","perPageResults","sort","_useState2","state","setState","console","log","_ref2","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","onRender","count","handlePaginationClick","sortByKey","array","key","b","x","y","keys","Number","Math","floor","container","justify","alignItems","item","xs","page","onChange","e","control","checked","value","arr","sorting","handleSort","name","label","labelPlacement","slice","filter","map","idx","axios","baseURL","api_getSearchResults","endpoint","params","abrupt","post","author","bookTitle","genre","yearTo","yearFrom","minRating","responseType","then","response","JSON","stringify","catch","error","_x","_x2","TextField","MenuItem","Select","InputLabel","FormControl","Autocomplete","SearchFeatures_useStyles","formControl","years","SearchFeatures_i","genres","components_SearchFeatures","props","ref","book_titles","bookSearch","handleChange","field","handleClear","id","options","getOptionLabel","book_title","renderInput","event","newValue","labelId","rating","SearchBar_axios","SearchBar_useStyles","heroContent","palette","background","paper","heroButtons","margin","SearchBar","correction","fullWidth","multiline","rowsMax","search_text","res","err","paragraph","param","handleRequest","preventDefault","apiResponse","success","current","getAllAuthors_axios","api_getAllAuthors","getAllBookTitles_axios","api_getAllBookTitles","SearchPage_useStyles","icon","marginRight","cardGrid","paddingTop","paddingBottom","footer","SearchPage","books","isLoading","errorOccur","errorMsg","errorResponse","getAuthorsandBookNames","_callee2","searchInput","_context2","requestError","Fragment","concat","src_App","connectDB","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById","98","exports","99"],"mappings":"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"},"input":"(this[\"webpackJsonpbook-search-client\"] = this[\"webpackJsonpbook-search-client\"] || []).push([[0],{\n\n/***/ 131:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(14);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(98);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(15);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(187);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CssBaseline/CssBaseline.js\nvar CssBaseline = __webpack_require__(194);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(132);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(177);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Container/Container.js\nvar Container = __webpack_require__(193);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CircularProgress/CircularProgress.js\nvar CircularProgress = __webpack_require__(195);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Card/Card.js\nvar Card = __webpack_require__(182);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(184);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardContent/CardContent.js\nvar CardContent = __webpack_require__(180);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardMedia/CardMedia.js\nvar CardMedia = __webpack_require__(183);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(185);\n\n// EXTERNAL MODULE: ./node_modules/clsx/dist/clsx.m.js\nvar clsx_m = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Collapse/Collapse.js\nvar Collapse = __webpack_require__(186);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/ExpandMore.js\nvar ExpandMore = __webpack_require__(77);\nvar ExpandMore_default = /*#__PURE__*/__webpack_require__.n(ExpandMore);\n\n// EXTERNAL MODULE: ./node_modules/react-highlight-words/dist/main.js\nvar main = __webpack_require__(58);\nvar main_default = /*#__PURE__*/__webpack_require__.n(main);\n\n// EXTERNAL MODULE: ./node_modules/react-show-more-text/lib/ShowMoreText.js\nvar ShowMoreText = __webpack_require__(74);\nvar ShowMoreText_default = /*#__PURE__*/__webpack_require__.n(ShowMoreText);\n\n// EXTERNAL MODULE: ./node_modules/react-stars-display/lib/Stars.js\nvar Stars = __webpack_require__(75);\nvar Stars_default = /*#__PURE__*/__webpack_require__.n(Stars);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/BookCard.js\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{root:{display:'flex',marginTop:'5%',marginBottom:'5%',border:'0.2em solid lightgrey'},cover:{maxWidth:120,minWidth:120,padding:7,objectFit:'cover'},details:{display:'flex',flexDirection:'column',minWidth:'75%'},content:{},expand:{transform:'rotate(0deg)',marginLeft:'auto',transition:theme.transitions.create('transform',{duration:theme.transitions.duration.shortest})},expandOpen:{transform:'rotate(180deg)'}};});function BookCard(_ref){var resultObj=_ref.resultObj,searchTerms=_ref.searchTerms;var classes=useStyles();var _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),expanded=_React$useState2[0],setExpanded=_React$useState2[1];var book=resultObj;var quote=resultObj.quote?resultObj.quote:\"\";var quoteArr=quote.split(\" \");var authors=\"\";for(var i=0;i<book.authors.length;i++){if(i==book.authors.length-1){authors+=book.authors[i];}else{authors+=book.authors[i]+\", \";}}var bookDetails=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CardContent[\"a\" /* default */],{style:{\"fontStyle\":\"italic\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 Book categories: \",book.categories]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 Number of pages: \",book.pageCount]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 Published date: \",book.publishedDate]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 ISBN: \",book['isbn-13']]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 Average rating: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Stars_default.a,{stars:book.averageRating,size:15//optional\n,spacing:2//optional\n,fill:\"#ea9c46\"//optional\n})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{gutterBottom:true,variant:\"h6\",component:\"h2\",children:[\"\\u2013\\u2013\\u2013 Number of ratings: \",book.ratingsCount]})]});var displayedQuote=bookDetails;if(quote.length>300){displayedQuote=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ShowMoreText_default.a/* Default options */,{lines:3,more:\"Show more\",less:\"Show less\",className:\"content-css\",anchorClass:\"my-anchor-css-class\",expanded:false,width:0,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"q\",{cite:\"https://www.mozilla.org/en-US/about/history/details/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_default.a,{highlightClassName:\"YourHighlightClass\",searchWords:searchTerms,autoEscape:true,textToHighlight:quote})})});}else if(quote.length<=300&&quote.length>0){displayedQuote=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"q\",{cite:\"https://www.mozilla.org/en-US/about/history/details/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(main_default.a,{highlightClassName:\"YourHighlightClass\",searchWords:searchTerms,autoEscape:true,textToHighlight:quote})});}var handleExpandClick=function handleExpandClick(){setExpanded(!expanded);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{className:classes.root,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardMedia[\"a\" /* default */],{className:classes.cover,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:book.thumbnail,style:{\"max-height\":\"100%\",\"max-width\":\"100%\",\"border\":\"0.2em solid black\",\"border-radius\":\"0.1em\"}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:classes.details,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CardContent[\"a\" /* default */],{className:classes.content,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",component:\"h2\",children:book.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{gutterBottom:true,component:\"h3\",children:authors}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{gutterBottom:true,component:\"h4\",variant:\"h6\",style:{\"color\":\"darkblue\",\"font-style\":\"italic\"},children:displayedQuote}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{disableRipple:true,size:\"small\",color:\"primary\",href:book.previewLink,target:\"_blank\",style:{'cursor':'pointer','textTransform':\"none\",'backgroundColor':'transparent'},children:\"View on Google Books\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{style:{color:'lightblue',align:'left',width:'100%'}})]}),quote.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{className:Object(clsx_m[\"a\" /* default */])(classes.expand,Object(defineProperty[\"a\" /* default */])({},classes.expandOpen,expanded)),onClick:handleExpandClick,\"aria-expanded\":expanded,\"aria-label\":\"show more\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ExpandMore_default.a,{})}):\"\",quote.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Collapse[\"a\" /* default */],{in:expanded,timeout:\"auto\",unmountOnExit:true,children:quote.length>0?bookDetails:\"\"}):\"\"]})]});}\n// EXTERNAL MODULE: ./node_modules/@material-ui/lab/esm/Pagination/Pagination.js + 6 modules\nvar Pagination = __webpack_require__(198);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Switch/Switch.js + 1 modules\nvar Switch = __webpack_require__(199);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/FormControlLabel/FormControlLabel.js\nvar FormControlLabel = __webpack_require__(188);\n\n// CONCATENATED MODULE: ./src/views/ResultPage.js\n//  props will be a list of book objects\nfunction ResultPage(_ref){var results=_ref.results,searchTerms=_ref.searchTerms;var _useState=Object(react[\"useState\"])({data:[],searchTerms:[],offset:1,perPageResults:10,sort:false}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];console.log(\"Result page rendered\");Object(react[\"useEffect\"])(function(){var onRender=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"Use effect hook\");setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{data:results,searchTerms:searchTerms}));case 2:case\"end\":return _context.stop();}}},_callee);}));return function onRender(){return _ref2.apply(this,arguments);};}();onRender();},[]);var handlePaginationClick=function handlePaginationClick(offset){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{offset:offset}));};var handleSort=function handleSort(value){console.log(\"Sort\");var arr=state.data;arr=sortByKey(arr,\"averageRating\");setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{sort:value,data:arr,sorting:false}));console.log(\"Sorted results\",state.data);};var sortByKey=function sortByKey(array,key){return array.sort(function(a,b){var x=a[key];var y=b[key];return x<y?1:x>y?-1:0;});};// Calculate how many pagination page we will have \nvar length=Object.keys(state.data).length;var count;if(length%Number(state.perPageResults)==0)count=Math.floor(length/Number(state.perPageResults));else count=Math.floor(length/Number(state.perPageResults))+1;console.log(\"Page count\",count);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,className:\"book-container\",spacing:6,justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,className:\"book-card-result\",xs:8,children:[length>0&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,spacing:3,children:[length>state.perPageResults&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:8,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pagination[\"a\" /* default */],{count:count,page:state.offset,onChange:function onChange(e,offset){return handlePaginationClick(offset);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:2,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Switch[\"a\" /* default */],{checked:state.sort,onChange:function onChange(e){return handleSort(e.target.checked);},name:\"sort\",color:\"primary\"}),label:\"Average Rating\",labelPlacement:\"End\"})})]}),state.data.slice((state.offset-1)*state.perPageResults,(state.offset-1)*state.perPageResults+Number(state.perPageResults)).filter(function(book){return book.title!=null;}).map(function(book,idx){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BookCard,{item:true,resultObj:book,searchTerms:state.searchTerms},idx);}),length>state.perPageResults&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pagination[\"a\" /* default */],{count:count,page:state.offset,onChange:function onChange(e,offset){return handlePaginationClick(offset);}})]})});};\n// CONCATENATED MODULE: ./src/api/getSearchResults.js\nvar axios=__webpack_require__(35);var baseURL='http://188.166.173.191:5000';var getSearchResults=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(endpoint,params){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"request endpoint\",baseURL+endpoint);return _context.abrupt(\"return\",axios.post(baseURL+endpoint,{quote:params.quote,author:params.author,bookTitle:params.bookTitle,genre:params.genre,yearTo:params.yearTo,yearFrom:params.yearFrom,minRating:params.minRating,responseType:'json'}).then(function(response){console.log(\"res in callAPI is: \"+JSON.stringify(response));return response.data;// throw Error(\"This is an error message\")\n}).catch(function(error){throw error;}));case 2:case\"end\":return _context.stop();}}},_callee);}));return function getSearchResults(_x,_x2){return _ref.apply(this,arguments);};}();/* harmony default export */ var api_getSearchResults = (getSearchResults);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 1 modules\nvar TextField = __webpack_require__(200);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/MenuItem/MenuItem.js + 1 modules\nvar MenuItem = __webpack_require__(202);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Select/Select.js + 15 modules\nvar Select = __webpack_require__(196);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/InputLabel/InputLabel.js + 1 modules\nvar InputLabel = __webpack_require__(201);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/FormControl/FormControl.js\nvar FormControl = __webpack_require__(192);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/lab/esm/Autocomplete/Autocomplete.js + 7 modules\nvar Autocomplete = __webpack_require__(197);\n\n// CONCATENATED MODULE: ./src/components/SearchFeatures.js\nvar SearchFeatures_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{formControl:{// margin: theme.spacing(1),\nminWidth:120}};});var years=[];for(var SearchFeatures_i=1990;SearchFeatures_i<2022;SearchFeatures_i++){years.push(SearchFeatures_i);}var genres=['Fiction','Biography & Autobiography','Juvenile Fiction','Poetry','Young Adult Fiction','Philosophy','Young Adult Nonfiction','True Crime','Indic fiction (English)'];var SearchFeatures=/*#__PURE__*/Object(react[\"forwardRef\"])(function(props,ref){var classes=SearchFeatures_useStyles();var authors=props.authors;var book_titles=props.book_titles;var _useState=Object(react[\"useState\"])({bookSearch:false,author:\"\",bookTitle:\"\",genre:\"\",yearFrom:1990,yearTo:2021,minRating:1}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(field,value){console.log(\"Field\",field);console.log(\"Value\",value);// TODO \n// Year has to be checked and error message displayed\nsetState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},Object(defineProperty[\"a\" /* default */])({},field,value)));/* Pass state to parent component  */props.handleChange(field,value);};var handleClear=function handleClear(){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{author:\"\",bookTitle:\"\",genre:\"\",yearFrom:1990,yearTo:2021}));};Object(react[\"useImperativeHandle\"])(ref,function(){return{handleClear:handleClear};});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormControlLabel[\"a\" /* default */],{control:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Switch[\"a\" /* default */],{checked:state.bookSearch,onChange:function onChange(e){return handleChange('bookSearch',e.target.checked);},name:\"bookSearch\",color:\"primary\"}),label:\"Book Search\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,spacing:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:12,spacing:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Autocomplete[\"a\" /* default */],{id:\"book-title-select\",options:book_titles,getOptionLabel:function getOptionLabel(book_title){return book_title.book_title;},style:{width:300},renderInput:function renderInput(params){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},params),{},{label:\"Book Title\"}));},onChange:function onChange(event,newValue){return handleChange('bookTitle',newValue?newValue.book_title:newValue);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Autocomplete[\"a\" /* default */],{id:\"author-select\",options:authors,getOptionLabel:function getOptionLabel(author){return author.name;},style:{width:300},renderInput:function renderInput(params){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},params),{},{label:\"Author\"}));},onChange:function onChange(event,newValue){return handleChange('author',newValue?newValue.name:newValue);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormControl[\"a\" /* default */],{className:classes.formControl,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputLabel[\"a\" /* default */],{id:\"genre\",children:\"Genre\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{labelId:\"genre-selcet\",id:\"genre-select\",value:state.genre,onChange:function onChange(e){return handleChange('genre',e.target.value);},children:genres.map(function(genre){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:genre,children:genre},genre);})})]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:12,spacing:3,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormControl[\"a\" /* default */],{className:classes.formControl,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputLabel[\"a\" /* default */],{id:\"year-from\",children:\"Year From\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{labelId:\"year-from-select\",id:\"year-from-select\"// open={open}\n// onClose={handleClose}\n// onOpen={handleOpen}\n,value:state.yearFrom,onChange:function onChange(e){return handleChange('yearFrom',e.target.value);},children:years.map(function(name){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:name,children:name},name);})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormControl[\"a\" /* default */],{className:classes.formControl,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputLabel[\"a\" /* default */],{id:\"year-to\",children:\"Year To\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{labelId:\"year-to-select\",id:\"year-to-select\"// open={open}\n// onClose={handleClose}\n// onOpen={handleOpen}\n,value:state.yearTo,onChange:function onChange(e){return handleChange('yearTo',e.target.value);},children:years.map(function(name){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:name,children:name},name);})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,item:true,xs:4,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormControl[\"a\" /* default */],{className:classes.formControl,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InputLabel[\"a\" /* default */],{id:\"rating\",children:\"Min. Rating\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Select[\"a\" /* default */],{labelId:\"rating-selcet\",id:\"rating-select\",value:state.minRating,onChange:function onChange(e){return handleChange('minRating',e.target.value);},children:[1,2,3,4,5].map(function(rating){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{value:rating,children:rating},rating);})})]})})]})]})]});});/* harmony default export */ var components_SearchFeatures = (SearchFeatures);\n// CONCATENATED MODULE: ./src/components/SearchBar.js\nvar SearchBar_axios=__webpack_require__(35);var SearchBar_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{heroContent:{backgroundColor:theme.palette.background.paper,padding:theme.spacing(8,0,6)},heroButtons:{marginTop:theme.spacing(4)},margin:{margin:theme.spacing(1)}};});function SearchBar(props){var classes=SearchBar_useStyles();var _useState=Object(react[\"useState\"])({quote:\"\",bookSearch:false,author:\"\",bookTitle:\"\",genre:\"\",yearTo:2021,yearFrom:1990,minRating:1,correction:\"\"}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];var ref=Object(react[\"useRef\"])(null);var handleChange=function handleChange(event){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{quote:event.target.value}));// Spellcheck\nSearchBar_axios.post('http://188.166.173.191:5000'+'/spellcheck',{search_text:event.target.value}).then(function(res){if(res['data']['correction_exists']){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{correction:res['data']['corrected_text'],quote:event.target.value}));}else{setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{correction:\"\",quote:event.target.value}));}}).catch(function(err){console.log(\"ERROR RETRIEVINGG CORRECTION: \"+err);});};var handleSearchFeaturesChange=function handleSearchFeaturesChange(param,value){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},Object(defineProperty[\"a\" /* default */])({},param,value)));console.log(\"Search features input:\",param,value);};var handleClear=function handleClear(event){event.preventDefault();setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{quote:\"\",apiResponse:{},success:false}));ref.current.handleClear();};var handleSpellCorrect=function handleSpellCorrect(){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{quote:state.correction,correction:\"\"}));};var handleSubmit=function handleSubmit(){// Validate input \n// If input is correct then make the request otherwise change state\n// and display appropriate component\n// findQuoteRequest();\nprops.handleRequest(state);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.heroContent,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{maxWidth:\"sm\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{component:\"h1\",variant:\"h2\",align:\"center\",color:\"textPrimary\",gutterBottom:true,children:\"Search a book by a quote\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{fullWidth:true,className:classes.margin,label:\"Type your quote...\",multiline:true,rowsMax:4,value:state.quote,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h7\",align:\"center\",color:\"textSecondary\",paragraph:true,style:{\"fontStyle\":\"italic\",\"cursor\":\"pointer\"},onClick:handleSpellCorrect,children:state.correction.length!=0?\"Did you mean '\"+state.correction+\"'?\":\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",align:\"center\",color:\"textSecondary\",paragraph:true,value:\"hi\",children:\"Try to type something short and leading about the book you are looking for\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SearchFeatures,{ref:ref,handleChange:handleSearchFeaturesChange,authors:props.authors,book_titles:props.book_titles}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:classes.heroButtons,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,spacing:2,justify:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",onClick:handleSubmit,children:\"Submit\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",color:\"primary\",onClick:handleClear,children:\"Clear\"})})]})})]})})});}\n// CONCATENATED MODULE: ./src/api/getAllAuthors.js\nvar getAllAuthors_axios=__webpack_require__(35);// const findQuoteURL = 'http://localhost:9000/findQuote';\nvar getAuthorsURL='http://188.166.173.191:5000/get_all_authors';var getAllAuthors=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",getAllAuthors_axios.post(getAuthorsURL,{responseType:'json'}).then(function(response){console.log(\"res in callAPI is: \"+JSON.stringify(response));return response.data;}).catch(function(error){throw error;}));case 1:case\"end\":return _context.stop();}}},_callee);}));return function getAllAuthors(){return _ref.apply(this,arguments);};}();/* harmony default export */ var api_getAllAuthors = (getAllAuthors);\n// CONCATENATED MODULE: ./src/api/getAllBookTitles.js\nvar getAllBookTitles_axios=__webpack_require__(35);// const findQuoteURL = 'http://localhost:9000/findQuote';\nvar getBookTitlesURL='http://188.166.173.191:5000/get_all_book_titles';var getAllBookTitles=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",getAllBookTitles_axios.post(getBookTitlesURL,{responseType:'json'}).then(function(response){console.log(\"res in callAPI is: \"+JSON.stringify(response));return response.data;}).catch(function(error){throw error;}));case 1:case\"end\":return _context.stop();}}},_callee);}));return function getAllBookTitles(){return _ref.apply(this,arguments);};}();/* harmony default export */ var api_getAllBookTitles = (getAllBookTitles);\n// CONCATENATED MODULE: ./src/views/SearchPage.js\nvar SearchPage_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{icon:{marginRight:theme.spacing(2)},cardGrid:{paddingTop:theme.spacing(8),paddingBottom:theme.spacing(8)},footer:{backgroundColor:theme.palette.background.paper,padding:theme.spacing(6)},margin:{margin:theme.spacing(1)},formControl:{margin:theme.spacing(1),minWidth:120}};});var dummy_authors=[{name:\"Janish\"},{name:\"Harry poppins\"},{name:\"Anna michin\"},{name:\"Mike\"},{name:\"Joah noah\"},{name:\"Michelin\"}];function SearchPage(){var classes=SearchPage_useStyles();var _useState=Object(react[\"useState\"])({apiResponse:{books:[]},searchTerms:[],isLoading:false,errorOccur:false,errorMsg:\"\",success:false,authors:[],book_titles:[]}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];console.log(\"Search page render\");// Use effect hook that will be triggered once, on render, to fetch the Author names\nObject(react[\"useEffect\"])(function(){console.log(\"Hook to get author names\");var getAuthorsandBookNames=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var authors,book_titles;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:authors=[];book_titles=[];_context.next=4;return api_getAllAuthors().then(function(response){// console.log(\"repsonse within author hook\",response);\nauthors=response.authors;}).catch(function(errorResponse){console.log(\"Error response\",errorResponse);});case 4:_context.next=6;return api_getAllBookTitles().then(function(response){// console.log(\"repsonse within book hook\",response);\nbook_titles=response.book_titles;}).catch(function(errorResponse){console.log(\"Error response\",errorResponse);});case 6:setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{book_titles:book_titles,authors:authors}));case 7:case\"end\":return _context.stop();}}},_callee);}));return function getAuthorsandBookNames(){return _ref.apply(this,arguments);};}();getAuthorsandBookNames();},[]);// empty list of dependencies ensures the hooks is only called upon rendering of the component\n/* \nSingle handleRequest function that will trigger the proper API function based on the\ntype of search \n */var handleRequest=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(searchInput){var quote,bookSearch,author,bookTitle,genre,yearFrom,yearTo,minRating;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:quote=searchInput.quote,bookSearch=searchInput.bookSearch,author=searchInput.author,bookTitle=searchInput.bookTitle,genre=searchInput.genre,yearFrom=searchInput.yearFrom,yearTo=searchInput.yearTo,minRating=searchInput.minRating;setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isLoading:true,requestError:\"\",apiResponse:\"\"}));console.log(state.isLoading);_context2.next=5;return api_getSearchResults(bookSearch?\"/books_search\":\"/quotes_search\",{quote:quote,author:author,bookTitle:bookTitle,genre:genre,yearFrom:yearFrom,yearTo:yearTo,minRating:minRating}).then(function(response){// console.log(\"res in setAPIResponse: \" + JSON.stringify(response));\nsetState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isLoading:false,apiResponse:{books:response.books},// book object, might contain quote as well \nrequestError:\"\",success:true,errorOccur:false,searchTerms:response.searchTerms}));}).catch(function(errorResponse){setState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isLoading:false,success:false,errorOccur:true,errorMsg:errorResponse,apiResponse:{quote:\"\"}}));});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleRequest(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CssBaseline[\"a\" /* default */],{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchBar,{handleRequest:handleRequest,authors:state.authors,book_titles:state.book_titles}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{className:classes.cardGrid,maxWidth:\"md\",children:[state.isLoading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true// spacing={6}\n,justify:\"center\",alignItems:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CircularProgress[\"a\" /* default */],{})}):state.success&&(state.apiResponse.books.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ResultPage,{results:state.apiResponse.books,searchTerms:state.searchTerms}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",align:\"center\",color:\"primary\",className:\"error-message\",children:\"It seems there were no results for your query.\"}))// provide list of results\n,state.errorOccur&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",align:\"center\",color:\"error\",className:\"error-message\",children:\"Your request has timed out. The error message is: \".concat(state.errorMsg)})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"footer\",{className:classes.footer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h6\",align:\"center\",gutterBottom:true,children:\"Footer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"subtitle1\",align:\"center\",color:\"textSecondary\",component:\"p\",children:\"Something here to give the footer a purpose!\"})]})]});}\n// CONCATENATED MODULE: ./src/api/findQuote.js\nvar findQuote_axios=__webpack_require__(35);// const findQuoteURL = 'http://localhost:9000/findQuote';\nvar findQuoteURL='http://188.166.173.191:5000/quote_from_id';var findQuote=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(quoteId){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",findQuote_axios.post(findQuoteURL,{_id:quoteId,responseType:'json'}).then(function(response){console.log(\"res in callAPI is: \"+JSON.stringify(response));return response.data;}).catch(function(error){throw error;}));case 1:case\"end\":return _context.stop();}}},_callee);}));return function findQuote(_x){return _ref.apply(this,arguments);};}();/* harmony default export */ var api_findQuote = (findQuote);\n// CONCATENATED MODULE: ./src/api/setUp.js\nvar setUp_axios=__webpack_require__(35);var setUpURL='http://188.166.173.191:5000/SetUp';var setUp=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",setUp_axios.get(setUpURL,{}).then(function(response){console.log(\"res in callAPI is: \"+JSON.stringify(response));return response.data;}).catch(function(error){throw error;}));case 1:case\"end\":return _context.stop();}}},_callee);}));return function setUp(){return _ref.apply(this,arguments);};}();/* harmony default export */ var api_setUp = (setUp);\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useState=Object(react[\"useState\"])({connectDB:{isLoading:false,error:\"\"}}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),state=_useState2[0],setState=_useState2[1];// useEffect(() => {\n//     const setUpRequest = async () => {\n//       setState({ ...state, connectDB: { ...state.connectDB, isLoading: true } });\n//       await setUp()\n//         .then(response => {\n//           console.log(response);\n//           setState({\n//             ...state,\n//             connectDB: {\n//               isLoading: false,\n//             }\n//           });\n//         })\n//         .catch(errorResponse => {\n//           setState({\n//             ...state,\n//             connectDB: { isLoading: false, error: errorResponse }\n//           });\n//         });\n//     };\n//     setUpRequest();\n//   }, []); // empty list of dependencies ensures the hooks is only called upon rendering of the component\nreturn/*#__PURE__*/ (//TODO: Display different component in case of a db connection error \nObject(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchPage,{})}));}/* harmony default export */ var src_App = (App_App);// class App extends React.Component {\n//   constructor(props) {\n//       super(props);\n//       this.state = { apiResponse: \"\" , quoteId: \"\"};\n//       this.getQuoteId = this.getQuoteId.bind(this);\n//       this.findQuote = this.findQuote.bind(this);\n//       this.setApiResponse = this.setApiResponse.bind(this);\n//   }\n//   async callAPI(route, options) {\n//     let quote = await fetch(`http://localhost:9000/${route}`, options);\n//     let res = await quote.json();\n//     console.log(\"res in callAPI is: \" + JSON.stringify(res));\n//     return res;\n//   }\n//   getQuoteId(event) {\n//     this.setState({quoteId: event.target.value});\n//   }\n//   setApiResponse(res) {\n//     // alert(\"res: \" + res);\n//     console.log(\"res in setAPIResponse: \" + JSON.stringify(res));\n//     this.setState({apiResponse: JSON.stringify(res.quote)});\n//   }\n//   async findQuote(event) {\n//     event.preventDefault();\n//     const requestOptions = {\n//         method: 'POST',\n//         headers: { 'Content-Type': 'application/json' },\n//         body: JSON.stringify({_id: this.state.quoteId})\n//     };\n//     let res = await this.callAPI(\"findQuote\", requestOptions);\n//     console.log(\"res in findQuote: \" + JSON.stringify(res));\n//     this.setApiResponse(res);\n//   }\n//   async componentDidMount() {\n//     let res = await this.callAPI(\"setUp\", {});\n//     console.log(res);\n//   }\n//   render() {\n//       return (\n//           <div>\n//               <SearchPage/>\n//               <input type=\"text\" value={this.state.quoteId} onChange={this.getQuoteId}></input>\n//               <button onClick={this.findQuote}>Click me</button>\n//               <p>{this.state.apiResponse}</p>\n//           </div>\n//       );\n//   }\n// }\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 204)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[131,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/components/BookCard.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/views/ResultPage.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/api/getSearchResults.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/components/SearchFeatures.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/components/SearchBar.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/api/getAllAuthors.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/api/getAllBookTitles.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/views/SearchPage.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/api/findQuote.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/api/setUp.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/App.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/reportWebVitals.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/index.js","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/postcss-loader/src/index.js??postcss!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/index.css","/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/postcss-loader/src/index.js??postcss!/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/App.css"],"names":["useStyles","makeStyles","theme","root","display","marginTop","marginBottom","border","cover","maxWidth","minWidth","padding","objectFit","details","flexDirection","content","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","BookCard","resultObj","searchTerms","classes","React","useState","expanded","setExpanded","book","quote","quoteArr","split","authors","i","length","bookDetails","categories","pageCount","publishedDate","averageRating","ratingsCount","displayedQuote","handleExpandClick","thumbnail","title","previewLink","color","align","width","clsx","ResultPage","results","data","offset","perPageResults","sort","state","setState","console","log","useEffect","onRender","handlePaginationClick","handleSort","value","arr","sortByKey","sorting","array","key","a","b","x","y","Object","keys","count","Number","Math","floor","e","target","checked","slice","filter","map","idx","axios","require","baseURL","getSearchResults","endpoint","params","post","author","bookTitle","genre","yearTo","yearFrom","minRating","responseType","then","response","JSON","stringify","catch","error","formControl","years","push","genres","SearchFeatures","forwardRef","props","ref","book_titles","bookSearch","handleChange","field","handleClear","useImperativeHandle","book_title","event","newValue","name","rating","heroContent","backgroundColor","palette","background","paper","spacing","heroButtons","margin","SearchBar","correction","useRef","search_text","res","err","handleSearchFeaturesChange","param","preventDefault","apiResponse","success","current","handleSpellCorrect","handleSubmit","handleRequest","getAuthorsURL","getAllAuthors","getBookTitlesURL","getAllBookTitles","icon","marginRight","cardGrid","paddingTop","paddingBottom","footer","dummy_authors","SearchPage","books","isLoading","errorOccur","errorMsg","getAuthorsandBookNames","errorResponse","searchInput","requestError","findQuoteURL","findQuote","quoteId","_id","setUpURL","setUp","get","App","connectDB","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport clsx from 'clsx';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Highlighter from \"react-highlight-words\";\nimport ShowMoreText from 'react-show-more-text';\nimport Stars from 'react-stars-display';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    marginTop: '5%',\n    marginBottom: '5%',\n    border: '0.2em solid lightgrey'\n  },\n  cover: {\n    maxWidth: 120,\n    minWidth: 120,\n    padding: 7,\n    objectFit: 'cover',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    minWidth: '75%'\n  },\n  content: {\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  }\n}));\n\nexport default function BookCard({resultObj, searchTerms}) {\n    const classes = useStyles();\n    const [expanded, setExpanded] = React.useState(false);\n\n    let book  = resultObj;\n    let quote = resultObj.quote ?  resultObj.quote : \"\";\n    let quoteArr = quote.split(\" \");\n    let authors = \"\"\n    for (let i = 0; i < book.authors.length; i++) {\n      if (i == book.authors.length - 1) {\n        authors += book.authors[i]\n      } else {\n        authors += book.authors[i] + \", \"\n      }\n    }\n    let bookDetails = <CardContent style={{\"fontStyle\" : \"italic\"}}>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"  >\n                         Book categories: {book.categories}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"  >\n                         Number of pages: {book.pageCount}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"   >\n                         Published date: {book.publishedDate}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"   >\n                         ISBN: {book['isbn-13']}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"   >\n                         Average rating: <Stars\n                                          stars={book.averageRating}\n                                          size={15} //optional\n                                          spacing={2} //optional\n                                          fill='#ea9c46' //optional\n                                          />\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"   >\n                         Number of ratings: {book.ratingsCount}\n                        </Typography>\n                      </CardContent>\n      let displayedQuote = bookDetails \n      if (quote.length > 300) {\n        displayedQuote = <ShowMoreText\n                          /* Default options */\n                          lines={3}\n                          more='Show more'\n                          less='Show less'\n                          className='content-css'\n                          anchorClass='my-anchor-css-class'\n                          expanded={false}\n                          width={0}\n                          >\n                            <q cite=\"https://www.mozilla.org/en-US/about/history/details/\">{\n                          <Highlighter\n                          highlightClassName=\"YourHighlightClass\"\n                          searchWords={searchTerms}\n                          autoEscape={true}\n                          textToHighlight={quote}\n                        >\n                          \n                          </Highlighter>}</q>\n                          </ShowMoreText>\n      } else if (quote.length <= 300 && quote.length > 0) {\n        displayedQuote = <q cite=\"https://www.mozilla.org/en-US/about/history/details/\">{\n                          <Highlighter\n                          highlightClassName=\"YourHighlightClass\"\n                          searchWords={searchTerms}\n                          autoEscape={true}\n                          textToHighlight={quote}\n                          >\n                          </Highlighter>}</q>\n      }\n\n    const handleExpandClick = () => {\n      setExpanded(!expanded);\n    };\n\n  \n\n\n    return (\n\n      <Card className={classes.root} >\n        <CardMedia\n          className={classes.cover}\n        >\n          <img src={book.thumbnail} style={{\"max-height\" : \"100%\", \"max-width\" : \"100%\", \n          \"border\" : \"0.2em solid black\", \"border-radius\" : \"0.1em\"}}/>\n        </CardMedia>\n        <div className={classes.details}>\n        \n          <CardContent className={classes.content} >\n            <Typography variant=\"h5\" component=\"h2\">\n              {book.title}\n            </Typography>\n            <Typography gutterBottom component=\"h3\" >\n              {authors}\n            </Typography>\n              \n            <Typography gutterBottom component=\"h4\" variant=\"h6\" style={{\"color\" : \"darkblue\", \"font-style\": \"italic\"}} >\n              \n            {displayedQuote}\n              \n            </Typography>\n            <Button disableRipple size=\"small\" color=\"primary\" href={book.previewLink}  target=\"_blank\" style={{'cursor' : 'pointer',  \n              'textTransform': \"none\", 'backgroundColor': 'transparent'  }}>\n              View on Google Books\n            </Button>\n            <hr  style={{\n              color: 'lightblue',\n              align: 'left',\n              width: '100%'\n            }}/>\n          </CardContent>\n          {(quote.length > 0) ? <IconButton\n              className={clsx(classes.expand, {\n                [classes.expandOpen]: expanded,\n              })}\n              onClick={handleExpandClick}\n              aria-expanded={expanded}\n              aria-label=\"show more\"\n            >\n              <ExpandMoreIcon />\n          </IconButton> : \"\"}\n          \n          {(quote.length > 0) ? \n            \n            \n            <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n              {(quote.length > 0) ? bookDetails : \"\"}\n            </Collapse>\n             :\n            \"\"\n          }\n          \n        </div>\n      </Card>\n\n    )              \n}\n\n","import React, {useState,useEffect} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport BookCard from \"../components/BookCard.js\"\nimport Pagination from '@material-ui/lab/Pagination';\n\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\n\n\n//  props will be a list of book objects\nexport default function ResultPage({results, searchTerms}) {\n\n      const [state, setState] = useState({\n          data : [],\n          searchTerms : [],\n          offset : 1,\n          perPageResults: 10,\n          sort: false\n\n        });\n\n        console.log(\"Result page rendered\")\n\n        \n        useEffect(() => {\n          const onRender = async () => {\n            console.log(\"Use effect hook\")\n            setState({...state, data:results, searchTerms : searchTerms}) \n            }\n          onRender()\n        },[]);\n\n\n        const handlePaginationClick = (offset) => {\n          setState({...state,offset:offset})\n        }\n\n        const handleSort = (value) => {\n          console.log(\"Sort\")\n          var arr = state.data\n          arr = sortByKey(arr,\"averageRating\")\n          setState({...state,sort:value,data:arr,sorting:false})\n          console.log(\"Sorted results\",state.data)\n        }\n\n        const sortByKey = (array, key) => {\n          return array.sort(function(a, b) {\n              var x = a[key]; \n              var y = b[key];\n              return ((x < y) ? 1 : ((x > y) ? -1 : 0));\n          });\n      }\n\n        // Calculate how many pagination page we will have \n        var length = Object.keys(state.data).length;\n        var count;\n        if (length % Number(state.perPageResults) == 0)\n          count = Math.floor(length/Number(state.perPageResults)) \n        else\n          count = Math.floor(length/Number(state.perPageResults)) + 1\n        console.log(\"Page count\",count)\n\n\n        return (\n        <Grid container \n        className=\"book-container\" \n        spacing={6}\n         justify=\"center\"   \n         alignItems=\"center\" \n         >\n           \n          <Grid \n            item \n            className=\"book-card-result\"\n            xs={8}\n          >\n\n            {length> 0 && ( \n            <Grid container spacing={3}>  \n            {length> state.perPageResults &&\n              <Grid item xs={8} >\n                  <Pagination \n                  count={count} \n                  page={state.offset} \n                  onChange={(e, offset) => handlePaginationClick(offset)} />\n              </Grid>\n              }\n\n              <Grid item xs={2} >\n                <FormControlLabel\n                control={<Switch checked={state.sort} onChange={e => handleSort(e.target.checked)} name=\"sort\" color=\"primary\"/>}\n                label=\"Average Rating\"\n                labelPlacement=\"End\"\n                />\n              </Grid>\n            </Grid>)}\n\n\n\n            { state.data.slice(\n             (state.offset -1 )*state.perPageResults, \n              (state.offset-1)*state.perPageResults + Number(state.perPageResults)).filter((book) => {\n                  return book.title != null;\n              }).map((book,idx) =>\n                  <BookCard  item key={idx} resultObj={book} searchTerms={state.searchTerms} />\n              )\n            }\n\n            {length> state.perPageResults &&\n             <Pagination \n             count={count} \n             page={state.offset} \n             onChange={(e, offset) => handlePaginationClick(offset)} />\n            }\n\n          </Grid>\n        </Grid> \n        \n        )\n};\n\n\n","const axios = require('axios');\nconst baseURL = 'http://188.166.173.191:5000';\n\nconst getSearchResults = async(endpoint, params) => {\n    console.log(\"request endpoint\",baseURL + endpoint)\n    return axios.post(baseURL + endpoint,{\n        quote: params.quote,\n        author: params.author ,\n        bookTitle: params.bookTitle, \n        genre: params.genre, \n        yearTo: params.yearTo, \n        yearFrom: params.yearFrom,\n        minRating: params.minRating,\n        responseType: 'json'\n    })\n    .then(response => {\n        console.log(\"res in callAPI is: \" + JSON.stringify(response));\n        return response.data;\n        // throw Error(\"This is an error message\")\n      })\n    .catch(error => {\n        throw error;\n    });   \n}\n\nexport default getSearchResults;\n\n\n","import React, { useState, forwardRef, useImperativeHandle } from \"react\";\n\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        // margin: theme.spacing(1),\n        minWidth: 120,\n      },\n  }));\n  \n  \nlet years = []\nfor(var i = 1990; i< 2022; i++){\n  years.push(i)\n}\n\n\nlet genres = ['Fiction','Biography & Autobiography','Juvenile Fiction','Poetry','Young Adult Fiction',\n'Philosophy','Young Adult Nonfiction','True Crime','Indic fiction (English)']\n\nconst SearchFeatures = forwardRef((props,ref) => {\n    const classes = useStyles();\n\n    const authors = props.authors;\n    const book_titles = props.book_titles;\n\n    const [state, setState] = useState({\n          bookSearch : false,\n          author : \"\",\n          bookTitle: \"\",\n          genre: \"\",\n          yearFrom:1990,\n          yearTo : 2021,\n          minRating: 1\n      });\n    \n\n    \n    const handleChange = (field,value) => {\n        console.log(\"Field\",field)\n        console.log(\"Value\",value)\n\n        // TODO \n        // Year has to be checked and error message displayed\n        setState({...state,[field]:value})\n        \n        /* Pass state to parent component  */\n        props.handleChange(field,value)\n    };\n\n    \n    const handleClear=()=> {\n      setState({...state, author:\"\",bookTitle:\"\",genre:\"\",yearFrom:1990,yearTo : 2021})\n    }\n\n\n    useImperativeHandle(ref, () => {\n      return {\n        handleClear: handleClear\n      };\n    });\n\n\n    return(\n    <>\n         {/* Extra search features */}\n         <Grid container>  \n         <FormControlLabel\n           control={<Switch checked={state.bookSearch} onChange={e => handleChange('bookSearch', e.target.checked)} name=\"bookSearch\" color=\"primary\"/>}\n           label=\"Book Search\"\n         />\n       </Grid>\n\n       <Grid container spacing={1}>\n\n         {/* First row of advance Search */}\n         <Grid container item xs={12} spacing={3}>\n             <Grid container item xs={4} >\n             <Autocomplete\n              id=\"book-title-select\"\n              options={book_titles}\n              getOptionLabel={(book_title) => book_title.book_title}\n              style={{ width: 300 }}\n              renderInput={(params) => <TextField {...params} label=\"Book Title\" />}\n              onChange={(event, newValue) => handleChange('bookTitle', newValue ? newValue.book_title : newValue )}\n            />\n            </Grid>\n           {/*<Grid container item xs={4} >*/}\n           {/*  <TextField */}\n           {/*  id=\"standard-basic\" label=\"Book Title\" */}\n           {/*  value={state.bookTitle}*/}\n           {/*  onChange={e => handleChange('bookTitle', e.target.value)} /> */}\n           {/* </Grid>*/}\n{/*             \n           <Grid container item xs={4} >\n             <TextField \n             id=\"standard-basic\" label=\"Author\" \n             value={state.author}\n             onChange={e => handleChange('author', e.target.value)} />  \n            </Grid> */}\n            <Grid container item xs={4} >\n            <Autocomplete\n              id=\"author-select\"\n              options={authors}\n              getOptionLabel={(author) => author.name}\n              style={{ width: 300 }}\n              renderInput={(params) => <TextField {...params} label=\"Author\" />}\n              onChange={(event, newValue) => handleChange('author', newValue ? newValue.name : newValue)}  \n\n            />\n            </Grid>\n            \n\n           {/* <Grid container item xs={4} >\n             <TextField \n             id=\"standard-basic\" label=\"Genre\" \n             value={state.genre}\n             onChange={e => handleChange('genre', e.target.value)} />  \n           </Grid>    */}\n\n           <Grid container item xs={4}>\n             <FormControl className={classes.formControl}>\n                 <InputLabel id=\"genre\">Genre</InputLabel>\n                 <Select\n                   labelId=\"genre-selcet\"\n                   id=\"genre-select\"\n\n                   value={state.genre}\n                   onChange={e =>handleChange('genre', e.target.value)}\n                 >\n                   {genres.map((genre) => (\n                               <MenuItem key={genre} value={genre} >\n                                 {genre}\n                               </MenuItem>\n                             ))}\n                 </Select>\n             </FormControl>\n           </Grid>        \n         </Grid>\n         \n         {/* Second row of advance Search */}\n         <Grid container item xs={12} spacing={3}>\n\n         \n           <Grid container item xs={4}>\n             <FormControl className={classes.formControl}>\n                 <InputLabel id=\"year-from\">Year From</InputLabel>\n                 <Select\n                   labelId=\"year-from-select\"\n                   id=\"year-from-select\"\n                   // open={open}\n                   // onClose={handleClose}\n                   // onOpen={handleOpen}\n                   value={state.yearFrom}\n                   onChange={e => handleChange('yearFrom', e.target.value)}\n                 >\n                   {years.map((name) => (\n                               <MenuItem key={name} value={name} >\n                                 {name}\n                               </MenuItem>\n                             ))}\n                 </Select>\n             </FormControl>\n           </Grid>\n\n           <Grid container item xs={4}>\n             <FormControl className={classes.formControl}>\n                 <InputLabel id=\"year-to\">Year To</InputLabel>\n                 <Select\n                   labelId=\"year-to-select\"\n                   id=\"year-to-select\"\n                   // open={open}\n                   // onClose={handleClose}\n                   // onOpen={handleOpen}\n                   value={state.yearTo}\n                   onChange={e => handleChange('yearTo', e.target.value)}\n                 >\n                   {years.map((name) => (\n                               <MenuItem key={name} value={name} >\n                                 {name}\n                               </MenuItem>\n                             ))}\n                 </Select>\n             </FormControl>\n           </Grid>\n\n           <Grid container item xs={4}>\n             <FormControl className={classes.formControl}>\n                 <InputLabel id=\"rating\">Min. Rating</InputLabel>\n                 <Select\n                   labelId=\"rating-selcet\"\n                   id=\"rating-select\"\n\n                   value={state.minRating}\n                   onChange={e =>handleChange('minRating', e.target.value)}\n                 >\n                   {[1,2,3,4,5].map((rating) => (\n                               <MenuItem key={rating} value={rating} >\n                                 {rating}\n                               </MenuItem>\n                             ))}\n                 </Select>\n             </FormControl>\n           </Grid>    \n\n         </Grid>\n       </Grid>\n    </>\n    )\n\n});\nexport default SearchFeatures;\n","import React ,{useState,useRef} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\nimport SearchFeatures from \"./SearchFeatures.js\";\nconst axios = require('axios');\n\nconst useStyles = makeStyles((theme) => ({\n\n      heroContent: {\n        backgroundColor: theme.palette.background.paper,\n        padding: theme.spacing(8, 0, 6),\n      },\n      heroButtons: {\n        marginTop: theme.spacing(4),\n      },\n      margin: {\n        margin: theme.spacing(1),\n      },\n  }));\n  \n\n\nexport default function SearchBar(props) {\n    const classes = useStyles();\n\n    const [state, setState] = useState({\n        quote:\"\",\n        bookSearch : false,\n        author : \"\",\n        bookTitle: \"\",\n        genre: \"\",\n        yearTo : 2021,\n        yearFrom: 1990,\n        minRating:1,\n        correction: \"\"\n    });\n\n\n    const ref = useRef(null);\n\n\n    const handleChange = (event) => {\n      setState({...state,quote: event.target.value})\n      // Spellcheck\n      axios.post('http://188.166.173.191:5000' + '/spellcheck',{\n        search_text: event.target.value\n      }).then(res => {\n      if (res['data']['correction_exists']) {\n        setState({...state,correction: res['data']['corrected_text'], quote: event.target.value})\n      } else {\n        setState({...state,correction: \"\", quote: event.target.value})\n      }\n      }).catch(err => {\n      console.log(\"ERROR RETRIEVINGG CORRECTION: \" + err)\n      });\n        \n    };\n    \n    const handleSearchFeaturesChange = (param,value) =>{\n        setState({...state, [param]:value});\n        console.log(\"Search features input:\",param,value);\n    }\n    \n    const handleClear=(event)=> {\n        event.preventDefault();\n        setState({...state, quote:\"\",apiResponse:{},success : false})\n        ref.current.handleClear();\n\n    }\n\n    const handleSpellCorrect= () => {\n      setState({...state, quote: state.correction, correction: \"\"})\n    }\n\n    \n    const handleSubmit = () =>{\n        // Validate input \n        // If input is correct then make the request otherwise change state\n        // and display appropriate component\n        // findQuoteRequest();\n\n        props.handleRequest(state)\n        \n    }\n\n    \n    return(\n    <>\n        <div className={classes.heroContent}>\n          <Container maxWidth=\"sm\">\n            <Typography component=\"h1\" variant=\"h2\" align=\"center\" color=\"textPrimary\" gutterBottom>\n              Search a book by a quote\n            </Typography>\n           \n           {/* Search Bar */}\n            <TextField \n            fullWidth \n            className={classes.margin} \n            label=\"Type your quote...\"\n            multiline\n            rowsMax={4}\n            value={state.quote}\n            onChange={handleChange}\n            ></TextField>\n\n            <Typography variant=\"h7\" align=\"center\" color=\"textSecondary\" paragraph style={{\"fontStyle\" : \"italic\", \"cursor\" : \"pointer\"}} onClick={handleSpellCorrect}>\n              {state.correction.length != 0 ? \"Did you mean '\" + state.correction + \"'?\": \"\"}\n            </Typography>\n\n            <Typography variant=\"h5\" align=\"center\" color=\"textSecondary\" paragraph value={\"hi\"}>\n              Try to type something short and leading about the book you are looking for\n            </Typography>\n\n            {/* Search features component  */}\n            <SearchFeatures ref= {ref} handleChange = {handleSearchFeaturesChange}  authors={props.authors} book_titles={props.book_titles} />\n\n            {/* Buttons */}\n            <div className={classes.heroButtons}>\n              <Grid container spacing={2} justify=\"center\">\n                <Grid item>\n                  <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\n                    Submit\n                  </Button>\n                </Grid>\n                <Grid item>\n                  <Button variant=\"outlined\" color=\"primary\" onClick={handleClear}>\n                    Clear\n                  </Button>\n                </Grid>\n              </Grid>\n            </div>\n          </Container>\n        </div>\n        \n    </>\n    )\n\n}\n\n","const axios = require('axios');\n// const findQuoteURL = 'http://localhost:9000/findQuote';\nconst getAuthorsURL = 'http://188.166.173.191:5000/get_all_authors';\n\nconst getAllAuthors = async() => {\n    return axios.post(getAuthorsURL,{\n        responseType: 'json'\n    })\n    .then(response => {\n        console.log(\"res in callAPI is: \" + JSON.stringify(response));\n        return response.data;\n      })\n    .catch(error => {\n        throw error;\n    });   \n}\n\nexport default getAllAuthors;\n\n\n","const axios = require('axios');\n// const findQuoteURL = 'http://localhost:9000/findQuote';\nconst getBookTitlesURL = 'http://188.166.173.191:5000/get_all_book_titles';\n\nconst getAllBookTitles = async() => {\n    return axios.post(getBookTitlesURL,{\n        responseType: 'json'\n    })\n    .then(response => {\n        console.log(\"res in callAPI is: \" + JSON.stringify(response));\n        return response.data;\n      })\n    .catch(error => {\n        throw error;\n    });\n}\n\nexport default getAllBookTitles;\n\n\n","import React, {useState,useEffect} from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport BookIcon from '@material-ui/icons/Book';\nimport Grid from '@material-ui/core/Grid';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n\nimport ResultPage from \"./ResultPage.js\"\nimport getSearchResults from \"../api/getSearchResults.js\";\nimport SearchBar from \"../components/SearchBar.js\";\nimport getAllAuthors from \"../api/getAllAuthors.js\"\nimport getAllBookTitles from \"../api/getAllBookTitles\";\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    marginRight: theme.spacing(2),\n  },\n  cardGrid: {\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n  },\n  footer: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(6),\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n\n}));\n\nlet dummy_authors = [{name:\"Janish\"}\n,{name:\"Harry poppins\"},\n{name:\"Anna michin\"},\n{name:\"Mike\"},\n{name:\"Joah noah\"},\n{name:\"Michelin\"}]\n\nexport default function SearchPage() {\n  const classes = useStyles();\n\n  const [state, setState] = useState({\n    apiResponse: {\n      books:[]\n    } , \n    searchTerms : [],\n    isLoading : false,\n    errorOccur:false,\n    errorMsg:\"\",\n    success: false,\n    authors : [],\n    book_titles : []\n  });\n\n  console.log(\"Search page render\")\n\n\n  // Use effect hook that will be triggered once, on render, to fetch the Author names\n  useEffect(() => {\n    console.log(\"Hook to get author names\")\n      const getAuthorsandBookNames = async () => {\n        let authors = []\n        let book_titles = []\n        await getAllAuthors()\n          .then(response => {\n            // console.log(\"repsonse within author hook\",response);\n            authors = response.authors\n          })\n          .catch(errorResponse => {\n            console.log(\"Error response\",errorResponse)\n          });\n\n          await getAllBookTitles()\n          .then(response => {\n            // console.log(\"repsonse within book hook\",response);\n            book_titles = response.book_titles\n          })\n          .catch(errorResponse => {\n            console.log(\"Error response\",errorResponse)\n          });\n\n          setState({\n              ...state,\n              book_titles: book_titles,\n              authors:authors\n          })\n      };\n\n    \n\n      getAuthorsandBookNames();\n\n    }, []); // empty list of dependencies ensures the hooks is only called upon rendering of the component\n\n\n/* \nSingle handleRequest function that will trigger the proper API function based on the\ntype of search \n */\n  const handleRequest = async (searchInput) => {\n\n    let {\n      quote, \n      bookSearch,\n      author ,\n      bookTitle,\n      genre,\n      yearFrom,\n      yearTo,\n      minRating} = searchInput\n\n\n    setState({ ...state, isLoading: true, requestError: \"\", apiResponse: \"\" });\n    console.log(state.isLoading)\n    \n    \n    await getSearchResults(\n      bookSearch ? \"/books_search\" : \"/quotes_search\",\n\n      {quote, author ,bookTitle, genre, yearFrom, yearTo, minRating}\n      )\n        .then(response => {\n            // console.log(\"res in setAPIResponse: \" + JSON.stringify(response));\n            setState({\n                ...state,\n                isLoading: false,\n                apiResponse: {\n                  books : response.books}, // book object, might contain quote as well \n                requestError: \"\",\n                success:true,\n                errorOccur: false,\n                searchTerms:response.searchTerms\n            });\n        })\n        .catch(errorResponse => {\n            setState({\n                ...state,\n                isLoading: false,\n                success : false,\n                errorOccur: true,\n                errorMsg: errorResponse,\n                apiResponse: {\n                  quote:\"\"\n                }\n            });\n        });        \n  }\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      {/* <AppBar position=\"relative\">\n        <Toolbar>\n          <BookIcon className={classes.icon} />\n          <Typography variant=\"h6\" color=\"inherit\" noWrap>\n            Book Search Engine\n          </Typography>\n        </Toolbar>\n      </AppBar> */}\n      <main>\n        {/* Search bar including the Advance search options */}\n        <SearchBar handleRequest={handleRequest}  authors={state.authors} book_titles={state.book_titles} />\n\n        {/* Results container */}\n        <Container className={classes.cardGrid} maxWidth=\"md\">\n          {/* Container to hold the results of the search  */}\n          {state.isLoading\n          ? ( <Grid container \n            // spacing={6}\n             justify=\"center\"   \n             alignItems=\"center\" \n             >\n            <CircularProgress />\n          </Grid>) \n          :  ( \n            state.success && (\n            (state.apiResponse.books.length>0 )\n            ? ( <ResultPage results={state.apiResponse.books} searchTerms={state.searchTerms} />)\n            :  ( <Typography variant=\"h6\" align='center' color='primary' className=\"error-message\">{\"It seems there were no results for your query.\"}</Typography> )\n           )) // provide list of results\n          }\n          {state.errorOccur && <Typography variant=\"h6\" align='center' color='error' className=\"error-message\">{`Your request has timed out. The error message is: ${state.errorMsg}`}</Typography> }\n        </Container>\n      </main>\n\n      {/* Footer */}\n      <footer className={classes.footer}>\n        <Typography variant=\"h6\" align=\"center\" gutterBottom>\n          Footer\n        </Typography>\n        <Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" component=\"p\">\n          Something here to give the footer a purpose!\n        </Typography>\n      </footer>\n      {/* End footer */}\n    </React.Fragment>\n  );\n}","const axios = require('axios');\n// const findQuoteURL = 'http://localhost:9000/findQuote';\nconst findQuoteURL = 'http://188.166.173.191:5000/quote_from_id';\n\nconst findQuote = async(quoteId) => {\n    return axios.post(findQuoteURL,{\n        _id: quoteId,\n        responseType: 'json'\n    })\n    .then(response => {\n        console.log(\"res in callAPI is: \" + JSON.stringify(response));\n        return response.data;\n      })\n    .catch(error => {\n        throw error;\n    });   \n}\n\nexport default findQuote;\n\n\n","const axios = require('axios');\nconst setUpURL = 'http://188.166.173.191:5000/SetUp';\n\nconst setUp = async() => {\n    return axios.get(setUpURL,{})\n    .then(response => {\n        console.log(\"res in callAPI is: \" + JSON.stringify(response));\n        return response.data;\n      })\n    .catch(error => {\n        throw error;\n    });   \n}\n\nexport default setUp;\n\n\n","import './App.css';\nimport SearchPage from \"./views/SearchPage.js\";\nimport React, { useState,useEffect } from \"react\";\nimport findQuote from \"./api/findQuote.js\";\nimport setUp from \"./api/setUp.js\"\n\nfunction App(){\n    const [state, setState] = useState({\n        connectDB:{\n            isLoading:false,\n            error:\"\"\n        }\n    });\n\n\n    // useEffect(() => {\n    //     const setUpRequest = async () => {\n    //       setState({ ...state, connectDB: { ...state.connectDB, isLoading: true } });\n    //       await setUp()\n    //         .then(response => {\n    //           console.log(response);\n    //           setState({\n    //             ...state,\n    //             connectDB: {\n    //               isLoading: false,\n    //             }\n    //           });\n    //         })\n    //         .catch(errorResponse => {\n    //           setState({\n    //             ...state,\n    //             connectDB: { isLoading: false, error: errorResponse }\n    //           });\n    //         });\n    //     };\n    \n    //     setUpRequest();\n        \n    //   }, []); // empty list of dependencies ensures the hooks is only called upon rendering of the component\n\n    return(\n        //TODO: Display different component in case of a db connection error \n        <div>\n        <SearchPage/>\n        </div>\n    )\n}\nexport default App;\n\n\n\n\n\n\n\n\n\n\n\n\n\n// class App extends React.Component {\n//   constructor(props) {\n//       super(props);\n//       this.state = { apiResponse: \"\" , quoteId: \"\"};\n//       this.getQuoteId = this.getQuoteId.bind(this);\n//       this.findQuote = this.findQuote.bind(this);\n//       this.setApiResponse = this.setApiResponse.bind(this);\n//   }\n\n//   async callAPI(route, options) {\n//     let quote = await fetch(`http://localhost:9000/${route}`, options);\n//     let res = await quote.json();\n//     console.log(\"res in callAPI is: \" + JSON.stringify(res));\n//     return res;\n//   }\n\n//   getQuoteId(event) {\n//     this.setState({quoteId: event.target.value});\n//   }\n\n//   setApiResponse(res) {\n//     // alert(\"res: \" + res);\n//     console.log(\"res in setAPIResponse: \" + JSON.stringify(res));\n//     this.setState({apiResponse: JSON.stringify(res.quote)});\n//   }\n\n//   async findQuote(event) {\n//     event.preventDefault();\n//     const requestOptions = {\n//         method: 'POST',\n//         headers: { 'Content-Type': 'application/json' },\n//         body: JSON.stringify({_id: this.state.quoteId})\n//     };\n//     let res = await this.callAPI(\"findQuote\", requestOptions);\n//     console.log(\"res in findQuote: \" + JSON.stringify(res));\n//     this.setApiResponse(res);\n//   }\n\n//   async componentDidMount() {\n//     let res = await this.callAPI(\"setUp\", {});\n//     console.log(res);\n//   }\n\n//   render() {\n//       return (\n//           <div>\n//               <SearchPage/>\n//               <input type=\"text\" value={this.state.quoteId} onChange={this.getQuoteId}></input>\n//               <button onClick={this.findQuote}>Click me</button>\n//               <p>{this.state.apiResponse}</p>\n//           </div>\n//       );\n//   }\n// }\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}