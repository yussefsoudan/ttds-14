{"ast":null,"code":"module.exports = function (\n/*Buffer*/\ninbuf) {\n  var zlib = require(\"zlib\");\n\n  var opts = {\n    chunkSize: (parseInt(inbuf.length / 1024) + 1) * 1024\n  };\n  return {\n    deflate: function () {\n      return zlib.deflateRawSync(inbuf, opts);\n    },\n    deflateAsync: function (\n    /*Function*/\n    callback) {\n      var tmp = zlib.createDeflateRaw(opts),\n          parts = [],\n          total = 0;\n      tmp.on('data', function (data) {\n        parts.push(data);\n        total += data.length;\n      });\n      tmp.on('end', function () {\n        var buf = Buffer.alloc(total),\n            written = 0;\n        buf.fill(0);\n\n        for (var i = 0; i < parts.length; i++) {\n          var part = parts[i];\n          part.copy(buf, written);\n          written += part.length;\n        }\n\n        callback && callback(buf);\n      });\n      tmp.end(inbuf);\n    }\n  };\n};","map":{"version":3,"sources":["/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/adm-zip/methods/deflater.js"],"names":["module","exports","inbuf","zlib","require","opts","chunkSize","parseInt","length","deflate","deflateRawSync","deflateAsync","callback","tmp","createDeflateRaw","parts","total","on","data","push","buf","Buffer","alloc","written","fill","i","part","copy","end"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiB;AAAU;AAAUC,KAApB,EAA2B;AAE1C,MAAIC,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AAEA,MAAIC,IAAI,GAAG;AAACC,IAAAA,SAAS,EAAE,CAACC,QAAQ,CAACL,KAAK,CAACM,MAAN,GAAe,IAAhB,CAAR,GAAgC,CAAjC,IAAsC;AAAlD,GAAX;AAEA,SAAO;AACLC,IAAAA,OAAO,EAAE,YAAY;AACnB,aAAON,IAAI,CAACO,cAAL,CAAoBR,KAApB,EAA2BG,IAA3B,CAAP;AACD,KAHI;AAKLM,IAAAA,YAAY,EAAE;AAAU;AAAYC,IAAAA,QAAtB,EAAgC;AAC5C,UAAIC,GAAG,GAAGV,IAAI,CAACW,gBAAL,CAAsBT,IAAtB,CAAV;AAAA,UAAuCU,KAAK,GAAG,EAA/C;AAAA,UAAmDC,KAAK,GAAG,CAA3D;AACAH,MAAAA,GAAG,CAACI,EAAJ,CAAO,MAAP,EAAe,UAAUC,IAAV,EAAgB;AAC7BH,QAAAA,KAAK,CAACI,IAAN,CAAWD,IAAX;AACAF,QAAAA,KAAK,IAAIE,IAAI,CAACV,MAAd;AACD,OAHD;AAIAK,MAAAA,GAAG,CAACI,EAAJ,CAAO,KAAP,EAAc,YAAY;AACxB,YAAIG,GAAG,GAAGC,MAAM,CAACC,KAAP,CAAaN,KAAb,CAAV;AAAA,YAA+BO,OAAO,GAAG,CAAzC;AACAH,QAAAA,GAAG,CAACI,IAAJ,CAAS,CAAT;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGV,KAAK,CAACP,MAA1B,EAAkCiB,CAAC,EAAnC,EAAuC;AACrC,cAAIC,IAAI,GAAGX,KAAK,CAACU,CAAD,CAAhB;AACAC,UAAAA,IAAI,CAACC,IAAL,CAAUP,GAAV,EAAeG,OAAf;AACAA,UAAAA,OAAO,IAAIG,IAAI,CAAClB,MAAhB;AACD;;AACDI,QAAAA,QAAQ,IAAIA,QAAQ,CAACQ,GAAD,CAApB;AACD,OATD;AAUAP,MAAAA,GAAG,CAACe,GAAJ,CAAQ1B,KAAR;AACD;AAtBI,GAAP;AAwBD,CA9BD","sourcesContent":["module.exports = function (/*Buffer*/inbuf) {\r\n\r\n  var zlib = require(\"zlib\");\r\n  \r\n  var opts = {chunkSize: (parseInt(inbuf.length / 1024) + 1) * 1024};\r\n  \r\n  return {\r\n    deflate: function () {\r\n      return zlib.deflateRawSync(inbuf, opts);\r\n    },\r\n\r\n    deflateAsync: function (/*Function*/callback) {\r\n      var tmp = zlib.createDeflateRaw(opts), parts = [], total = 0;\r\n      tmp.on('data', function (data) {\r\n        parts.push(data);\r\n        total += data.length;\r\n      });\r\n      tmp.on('end', function () {\r\n        var buf = Buffer.alloc(total), written = 0;\r\n        buf.fill(0);\r\n        for (var i = 0; i < parts.length; i++) {\r\n          var part = parts[i];\r\n          part.copy(buf, written);\r\n          written += part.length;\r\n        }\r\n        callback && callback(buf);\r\n      });\r\n      tmp.end(inbuf);\r\n    }\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"script"}