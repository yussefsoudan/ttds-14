{"ast":null,"code":"var fs = require(\"./fileSystem\").require(),\n    pth = require(\"path\");\n\nfs.existsSync = fs.existsSync || pth.existsSync;\n\nmodule.exports = function (\n/*String*/\npath) {\n  var _path = path || \"\",\n      _permissions = 0,\n      _obj = newAttr(),\n      _stat = null;\n\n  function newAttr() {\n    return {\n      directory: false,\n      readonly: false,\n      hidden: false,\n      executable: false,\n      mtime: 0,\n      atime: 0\n    };\n  }\n\n  if (_path && fs.existsSync(_path)) {\n    _stat = fs.statSync(_path);\n    _obj.directory = _stat.isDirectory();\n    _obj.mtime = _stat.mtime;\n    _obj.atime = _stat.atime;\n    _obj.executable = !!(1 & parseInt((_stat.mode & parseInt(\"777\", 8)).toString(8)[0]));\n    _obj.readonly = !!(2 & parseInt((_stat.mode & parseInt(\"777\", 8)).toString(8)[0]));\n    _obj.hidden = pth.basename(_path)[0] === \".\";\n  } else {\n    console.warn(\"Invalid path: \" + _path);\n  }\n\n  return {\n    get directory() {\n      return _obj.directory;\n    },\n\n    get readOnly() {\n      return _obj.readonly;\n    },\n\n    get hidden() {\n      return _obj.hidden;\n    },\n\n    get mtime() {\n      return _obj.mtime;\n    },\n\n    get atime() {\n      return _obj.atime;\n    },\n\n    get executable() {\n      return _obj.executable;\n    },\n\n    decodeAttributes: function (val) {},\n    encodeAttributes: function (val) {},\n    toString: function () {\n      return '{\\n' + '\\t\"path\" : \"' + _path + \",\\n\" + '\\t\"isDirectory\" : ' + _obj.directory + \",\\n\" + '\\t\"isReadOnly\" : ' + _obj.readonly + \",\\n\" + '\\t\"isHidden\" : ' + _obj.hidden + \",\\n\" + '\\t\"isExecutable\" : ' + _obj.executable + \",\\n\" + '\\t\"mTime\" : ' + _obj.mtime + \"\\n\" + '\\t\"aTime\" : ' + _obj.atime + \"\\n\" + '}';\n    }\n  };\n};","map":{"version":3,"sources":["/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/adm-zip/util/fattr.js"],"names":["fs","require","pth","existsSync","module","exports","path","_path","_permissions","_obj","newAttr","_stat","directory","readonly","hidden","executable","mtime","atime","statSync","isDirectory","parseInt","mode","toString","basename","console","warn","readOnly","decodeAttributes","val","encodeAttributes"],"mappings":"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","sourcesContent":["var fs = require(\"./fileSystem\").require(),\r\n    pth = require(\"path\");\r\n\t\r\nfs.existsSync = fs.existsSync || pth.existsSync;\r\n\r\nmodule.exports = function(/*String*/path) {\r\n\r\n    var _path = path || \"\",\r\n        _permissions = 0,\r\n        _obj = newAttr(),\r\n        _stat = null;\r\n\r\n    function newAttr() {\r\n        return {\r\n            directory : false,\r\n            readonly : false,\r\n            hidden : false,\r\n            executable : false,\r\n            mtime : 0,\r\n            atime : 0\r\n        }\r\n    }\r\n\r\n    if (_path && fs.existsSync(_path)) {\r\n        _stat = fs.statSync(_path);\r\n        _obj.directory = _stat.isDirectory();\r\n        _obj.mtime = _stat.mtime;\r\n        _obj.atime = _stat.atime;\r\n        _obj.executable = !!(1 & parseInt ((_stat.mode & parseInt (\"777\", 8)).toString (8)[0]));\r\n        _obj.readonly = !!(2 & parseInt ((_stat.mode & parseInt (\"777\", 8)).toString (8)[0]));\r\n        _obj.hidden = pth.basename(_path)[0] === \".\";\r\n    } else {\r\n        console.warn(\"Invalid path: \" + _path)\r\n    }\r\n\r\n    return {\r\n\r\n        get directory () {\r\n            return _obj.directory;\r\n        },\r\n\r\n        get readOnly () {\r\n            return _obj.readonly;\r\n        },\r\n\r\n        get hidden () {\r\n            return _obj.hidden;\r\n        },\r\n\r\n        get mtime () {\r\n            return _obj.mtime;\r\n        },\r\n\r\n        get atime () {\r\n           return _obj.atime;\r\n        },\r\n\r\n\r\n        get executable () {\r\n            return _obj.executable;\r\n        },\r\n\r\n        decodeAttributes : function(val) {\r\n\r\n        },\r\n\r\n        encodeAttributes : function (val) {\r\n\r\n        },\r\n\r\n        toString : function() {\r\n           return '{\\n' +\r\n               '\\t\"path\" : \"' + _path + \",\\n\" +\r\n               '\\t\"isDirectory\" : ' + _obj.directory + \",\\n\" +\r\n               '\\t\"isReadOnly\" : ' + _obj.readonly + \",\\n\" +\r\n               '\\t\"isHidden\" : ' + _obj.hidden + \",\\n\" +\r\n               '\\t\"isExecutable\" : ' + _obj.executable + \",\\n\" +\r\n               '\\t\"mTime\" : ' + _obj.mtime + \"\\n\" +\r\n               '\\t\"aTime\" : ' + _obj.atime + \"\\n\" +\r\n           '}';\r\n        }\r\n    }\r\n\r\n};\r\n"]},"metadata":{},"sourceType":"script"}