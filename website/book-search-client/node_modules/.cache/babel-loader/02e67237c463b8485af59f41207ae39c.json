{"ast":null,"code":"var _jsxFileName = \"/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/views/ResultPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport BookCard from \"../components/BookCard.js\";\nimport Pagination from '@material-ui/lab/Pagination'; //  props will be a list of book objects\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ResultPage({\n  results\n}) {\n  _s();\n\n  const [state, setState] = useState({\n    results: [],\n    offset: 1,\n    perPageResults: 10\n  });\n  useEffect(() => {\n    setState({ ...state,\n      results: results\n    });\n  }, []);\n  console.log(\"Print cards\");\n  console.log(\"Number of results\", results.length);\n  const r = results.length;\n  const l = state.perPageResult;\n  console.log(r / l);\n  console.log(Number.isNaN(state.results.length));\n  console.log(Number.isNaN(state.perPageResults));\n\n  const handlePaginationClick = offset => {\n    setState({ ...state,\n      offset: offset\n    });\n  };\n\n  var count;\n  if (state.results.length % state.perPageResult == 0) count = Math.floor(state.results.length / state.perPageResult);else count = Math.floor(state.results.length / state.perPageResult) + 1;\n  console.log(\"Count of pages\", state.results.length / state.perPageResult);\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    className: \"book-container\",\n    spacing: 1 //  direction=\"column\" \n    ,\n    justify: \"center\",\n    alignItems: \"center\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      className: \"book-card-result\",\n      xs: 1,\n      children: state.results.filter(book => {\n        return book.title != null;\n      }).map((book, idx) => /*#__PURE__*/_jsxDEV(BookCard, {\n        item: true,\n        resultObj: book\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ResultPage, \"7Naf5+YKA1vfC90fFjy6+zrgSzg=\");\n\n_c = ResultPage;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResultPage\");","map":{"version":3,"sources":["/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/views/ResultPage.js"],"names":["React","useState","useEffect","Grid","BookCard","Pagination","ResultPage","results","state","setState","offset","perPageResults","console","log","length","r","l","perPageResult","Number","isNaN","handlePaginationClick","count","Math","floor","filter","book","title","map","idx"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,UAAP,MAAuB,6BAAvB,C,CAEA;;;AACA,eAAe,SAASC,UAAT,CAAoB;AAACC,EAAAA;AAAD,CAApB,EAA+B;AAAA;;AAExC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC;AAC/BM,IAAAA,OAAO,EAAG,EADqB;AAE/BG,IAAAA,MAAM,EAAG,CAFsB;AAG/BC,IAAAA,cAAc,EAAE;AAHe,GAAD,CAAlC;AAQET,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAUD,MAAAA,OAAO,EAACA;AAAlB,KAAD,CAAR;AACD,GAFQ,EAEN,EAFM,CAAT;AAIAK,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgCN,OAAO,CAACO,MAAxC;AACA,QAAMC,CAAC,GAAGR,OAAO,CAACO,MAAlB;AACA,QAAME,CAAC,GAAGR,KAAK,CAACS,aAAhB;AACAL,EAAAA,OAAO,CAACC,GAAR,CAAYE,CAAC,GAACC,CAAd;AACAJ,EAAAA,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACC,KAAP,CAAaX,KAAK,CAACD,OAAN,CAAcO,MAA3B,CAAZ;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACC,KAAP,CAAcX,KAAK,CAACG,cAApB,CAAZ;;AAGA,QAAMS,qBAAqB,GAAIV,MAAD,IAAY;AACxCD,IAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAUE,MAAAA,MAAM,EAACA;AAAjB,KAAD,CAAR;AACD,GAFD;;AAGA,MAAIW,KAAJ;AACA,MAAIb,KAAK,CAACD,OAAN,CAAcO,MAAd,GAAwBN,KAAK,CAACS,aAA9B,IAA+C,CAAnD,EACEI,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWf,KAAK,CAACD,OAAN,CAAcO,MAAd,GAAqBN,KAAK,CAACS,aAAtC,CAAR,CADF,KAGEI,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWf,KAAK,CAACD,OAAN,CAAcO,MAAd,GAAqBN,KAAK,CAACS,aAAtC,IAAuD,CAA/D;AAEFL,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BL,KAAK,CAACD,OAAN,CAAcO,MAAd,GAAqBN,KAAK,CAACS,aAAzD;AACA,sBAEA,QAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AACA,IAAA,SAAS,EAAC,gBADV;AAEA,IAAA,OAAO,EAAE,CAFT,CAGC;AAHD;AAIC,IAAA,OAAO,EAAC,QAJT;AAKC,IAAA,UAAU,EAAC,QALZ;AAAA,2BAOE,QAAC,IAAD;AACE,MAAA,IAAI,MADN;AAEE,MAAA,SAAS,EAAC,kBAFZ;AAGE,MAAA,EAAE,EAAE,CAHN;AAAA,gBA4BGT,KAAK,CAACD,OAAN,CAAciB,MAAd,CAAsBC,IAAD,IAAU;AAC1B,eAAOA,IAAI,CAACC,KAAL,IAAc,IAArB;AACH,OAFF,EAEIC,GAFJ,CAEQ,CAACF,IAAD,EAAMG,GAAN,kBACH,QAAC,QAAD;AAAW,QAAA,IAAI,MAAf;AAA0B,QAAA,SAAS,EAAEH;AAArC,SAAqBG,GAArB;AAAA;AAAA;AAAA;AAAA,cAHL;AA5BH;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,UAFA;AA+CP;;GAhFuBtB,U;;KAAAA,U;AAgFvB","sourcesContent":["import React, {useState,useEffect} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport BookCard from \"../components/BookCard.js\"\nimport Pagination from '@material-ui/lab/Pagination';\n\n//  props will be a list of book objects\nexport default function ResultPage({results}) {\n\n      const [state, setState] = useState({\n          results : [],\n          offset : 1,\n          perPageResults: 10,\n        });\n\n\n          \n        useEffect(() => {\n          setState({...state,results:results})\n        }, []);\n\n        console.log(\"Print cards\")\n        console.log(\"Number of results\",results.length)\n        const r = results.length\n        const l = state.perPageResult\n        console.log(r/l)\n        console.log(Number.isNaN(state.results.length) )\n        console.log(Number.isNaN( state.perPageResults ))\n\n\n        const handlePaginationClick = (offset) => {\n          setState({...state,offset:offset})\n        }\n        var count;\n        if (state.results.length  % state.perPageResult == 0)\n          count = Math.floor(state.results.length/state.perPageResult) \n        else\n          count = Math.floor(state.results.length/state.perPageResult) + 1\n\n        console.log(\"Count of pages\",(state.results.length/state.perPageResult) )\n        return (\n        \n        <Grid container \n        className=\"book-container\" \n        spacing={1}\n         //  direction=\"column\" \n         justify=\"center\"   \n         alignItems=\"center\" \n         >\n          <Grid \n            item \n            className=\"book-card-result\"\n            xs={1}\n          >\n\n\n         \n             {/* {results.length > state.resultLimit &&\n              <Pagination \n              count={count} \n              page={state.offset} \n              onChange={(e, offset) => handlePaginationClick(offset)} />\n            }\n\n            {state.results.slice(state.offset, state.offset + state.resultLimit).filter((book) => {\n                  return book.title != null;\n              }).map((book,idx) =>\n                  <BookCard  item key={idx} resultObj={book} />\n              )}\n\n            {results.length > state.resultLimit &&\n             <Pagination \n             count={count} \n             page={state.offset} \n             onChange={(e, offset) => handlePaginationClick(offset)} />\n            } */}\n\n            {state.results.filter((book) => {\n                  return book.title != null;\n              }).map((book,idx) =>\n                  <BookCard  item key={idx} resultObj={book} />\n              )}\n\n\n          </Grid>\n        </Grid> \n        )\n};\n\n\n"]},"metadata":{},"sourceType":"module"}