{"ast":null,"code":"import _defineProperty from\"/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{makeStyles,useTheme}from'@material-ui/core/styles';import Card from'@material-ui/core/Card';import Button from'@material-ui/core/Button';import CardContent from'@material-ui/core/CardContent';import CardMedia from'@material-ui/core/CardMedia';import IconButton from'@material-ui/core/IconButton';import Typography from'@material-ui/core/Typography';import SkipPreviousIcon from'@material-ui/icons/SkipPrevious';import PlayArrowIcon from'@material-ui/icons/PlayArrow';import SkipNextIcon from'@material-ui/icons/SkipNext';import clsx from'clsx';import Collapse from'@material-ui/core/Collapse';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import Highlighter from\"react-highlight-words\";import ShowMoreText from'react-show-more-text';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{display:'flex',marginTop:'5%',marginBottom:'5%',border:'0.2em solid lightgrey'},cover:{maxWidth:120,minWidth:120,padding:7,objectFit:'cover'},details:{display:'flex',flexDirection:'column'},content:{},expand:{transform:'rotate(0deg)',marginLeft:'auto',transition:theme.transitions.create('transform',{duration:theme.transitions.duration.shortest})},expandOpen:{transform:'rotate(180deg)'}};});export default function BookCard(_ref){var resultObj=_ref.resultObj,searchTerms=_ref.searchTerms;var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),expanded=_React$useState2[0],setExpanded=_React$useState2[1];var book=resultObj;var quote=resultObj.quote?resultObj.quote:\"\";var quoteArr=quote.split(\" \");var authors=\"\";for(var i=0;i<book.authors.length;i++){if(i==book.authors.length-1){authors+=book.authors[i];}else{authors+=book.authors[i]+\", \";}}var handleExpandClick=function handleExpandClick(){setExpanded(!expanded);};return/*#__PURE__*/_jsxs(Card,{className:classes.root,children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.cover,children:/*#__PURE__*/_jsx(\"img\",{src:book.thumbnail,style:{\"max-height\":\"100%\",\"max-width\":\"100%\",\"border\":\"0.2em solid black\",\"border-radius\":\"0.1em\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.details,children:[/*#__PURE__*/_jsxs(CardContent,{className:classes.content,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"h2\",children:book.title}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,component:\"h3\",children:authors}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,component:\"h4\",variant:\"h6\",style:{\"color\":\"darkblue\",\"font-style\":\"italic\"},children:quote.length>300?/*#__PURE__*/_jsx(ShowMoreText/* Default options */,{lines:3,more:\"Show more\",less:\"Show less\",className:\"content-css\",anchorClass:\"my-anchor-css-class\",expanded:false,width:0,children:/*#__PURE__*/_jsx(\"q\",{cite:\"https://www.mozilla.org/en-US/about/history/details/\",children:/*#__PURE__*/_jsx(Highlighter,{highlightClassName:\"YourHighlightClass\",searchWords:searchTerms,autoEscape:true,textToHighlight:quote})})}):/*#__PURE__*/_jsx(\"q\",{cite:\"https://www.mozilla.org/en-US/about/history/details/\",children:/*#__PURE__*/_jsx(Highlighter,{highlightClassName:\"YourHighlightClass\",searchWords:searchTerms,autoEscape:true,textToHighlight:quote})})}),/*#__PURE__*/_jsx(Button,{disableRipple:true,size:\"small\",color:\"primary\",href:book.previewLink,target:\"_blank\",style:{'cursor':'pointer','textTransform':\"none\",'backgroundColor':'transparent'},children:\"View on Google Books\"}),/*#__PURE__*/_jsx(\"hr\",{style:{color:'lightblue',align:'left',margin:0,width:'100%'}})]}),/*#__PURE__*/_jsx(IconButton,{className:clsx(classes.expand,_defineProperty({},classes.expandOpen,expanded)),onClick:handleExpandClick,\"aria-expanded\":expanded,\"aria-label\":\"show more\",children:/*#__PURE__*/_jsx(ExpandMoreIcon,{})}),/*#__PURE__*/_jsx(Collapse,{in:expanded,timeout:\"auto\",unmountOnExit:true,children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h6\",component:\"h2\",children:\"Further Book Details\"}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,component:\"h3\",children:[\"\\u2022 Book categories: \",book.categories]}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,component:\"h3\",children:[\"\\u2022 Number of pages: \",book.pageCount]}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,component:\"h3\",children:[\"\\u2022 Published date: \",book.publishedDate]}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,component:\"h3\",children:[\"\\u2022 ISBN: \",book['isbn-13']]}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,component:\"h3\",children:[\"\\u2022 Average rating: \",book.averageRating==\"\"?\"\":book.averageRating+\"/5\"]}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,component:\"h3\",children:[\"\\u2022 Number of ratings: \",book.ratingsCount]})]})})]})]});}","map":{"version":3,"sources":["/Users/yussefsoudan/Studies/Uni/year-4-cs/TTDS/CW3/ttds-14/website/book-search-client/src/components/BookCard.js"],"names":["React","makeStyles","useTheme","Card","Button","CardContent","CardMedia","IconButton","Typography","SkipPreviousIcon","PlayArrowIcon","SkipNextIcon","clsx","Collapse","ExpandMoreIcon","Highlighter","ShowMoreText","useStyles","theme","root","display","marginTop","marginBottom","border","cover","maxWidth","minWidth","padding","objectFit","details","flexDirection","content","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","BookCard","resultObj","searchTerms","classes","useState","expanded","setExpanded","book","quote","quoteArr","split","authors","i","length","handleExpandClick","thumbnail","title","previewLink","color","align","margin","width","categories","pageCount","publishedDate","averageRating","ratingsCount"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport clsx from 'clsx';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Highlighter from \"react-highlight-words\";\nimport ShowMoreText from 'react-show-more-text';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    marginTop: '5%',\n    marginBottom: '5%',\n    border: '0.2em solid lightgrey'\n  },\n  cover: {\n    maxWidth: 120,\n    minWidth: 120,\n    padding: 7,\n    objectFit: 'cover',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  content: {\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  }\n}));\n\nexport default function BookCard({resultObj, searchTerms}) {\n    const classes = useStyles();\n    const [expanded, setExpanded] = React.useState(false);\n\n    let book  = resultObj;\n    let quote = resultObj.quote ?  resultObj.quote : \"\";\n    let quoteArr = quote.split(\" \");\n    let authors = \"\"\n    for (let i = 0; i < book.authors.length; i++) {\n      if (i == book.authors.length - 1) {\n        authors += book.authors[i]\n      } else {\n        authors += book.authors[i] + \", \"\n      }\n    }\n\n    const handleExpandClick = () => {\n      setExpanded(!expanded);\n    };\n\n\n    return (\n\n      <Card className={classes.root} >\n        <CardMedia\n          className={classes.cover}\n        >\n          <img src={book.thumbnail} style={{\"max-height\" : \"100%\", \"max-width\" : \"100%\", \n          \"border\" : \"0.2em solid black\", \"border-radius\" : \"0.1em\"}}/>\n        </CardMedia>\n        <div className={classes.details}>\n        \n          <CardContent className={classes.content}>\n            <Typography variant=\"h5\" component=\"h2\">\n              {book.title}\n            </Typography>\n            <Typography gutterBottom component=\"h3\"   >\n              {authors}\n            </Typography>\n              \n            <Typography gutterBottom component=\"h4\" variant=\"h6\" style={{\"color\" : \"darkblue\", \"font-style\": \"italic\"}} >\n              \n            {(quote.length > 300 ? \n            <ShowMoreText\n            /* Default options */\n            lines={3}\n            more='Show more'\n            less='Show less'\n            className='content-css'\n            anchorClass='my-anchor-css-class'\n            expanded={false}\n            width={0}\n            >\n              <q cite=\"https://www.mozilla.org/en-US/about/history/details/\">{\n            <Highlighter\n            highlightClassName=\"YourHighlightClass\"\n            searchWords={searchTerms}\n            autoEscape={true}\n            textToHighlight={quote}\n          >\n            \n            </Highlighter>}</q>\n            </ShowMoreText>\n            : \n            <q cite=\"https://www.mozilla.org/en-US/about/history/details/\">{\n            <Highlighter\n            highlightClassName=\"YourHighlightClass\"\n            searchWords={searchTerms}\n            autoEscape={true}\n            textToHighlight={quote}\n            >\n            </Highlighter>}</q>\n            )}\n            \n                \n              \n            </Typography>\n            <Button disableRipple size=\"small\" color=\"primary\" href={book.previewLink}  target=\"_blank\" style={{'cursor' : 'pointer',  \n              'textTransform': \"none\", 'backgroundColor': 'transparent'  }}>\n              View on Google Books\n            </Button>\n            <hr  style={{\n              color: 'lightblue',\n              align: 'left',\n              margin: 0,\n              width: '100%'\n            }}/>\n          </CardContent>\n          \n          <IconButton\n          className={clsx(classes.expand, {\n            [classes.expandOpen]: expanded,\n          })}\n          onClick={handleExpandClick}\n          aria-expanded={expanded}\n          aria-label=\"show more\"\n          >\n            <ExpandMoreIcon />\n          </IconButton>\n          <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n            <CardContent>\n              <Typography gutterBottom variant=\"h6\" component=\"h2\" >\n                Further Book Details\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • Book categories: {book.categories}\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • Number of pages: {book.pageCount}\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • Published date: {book.publishedDate}\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • ISBN: {book['isbn-13']}\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • Average rating: {book.averageRating == \"\" ? \"\" :  book.averageRating + \"/5\"}\n              </Typography>\n              <Typography gutterBottom component=\"h3\"   >\n              • Number of ratings: {book.ratingsCount}\n              </Typography>\n            </CardContent>\n          </Collapse>\n        </div>\n      </Card>\n\n    )              \n}\n\n"]},"metadata":{},"sourceType":"module"}