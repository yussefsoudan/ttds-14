{"version":3,"sources":["components/BookCard.js","views/ResultPage.js","components/SearchFeatures.js","api/getSearchResults.js","components/SearchBar.js","api/getAllAuthors.js","api/getAllBookTitles.js","views/SearchPage.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","root","display","marginTop","marginBottom","border","cover","maxWidth","minWidth","padding","objectFit","details","flexDirection","content","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","BookCard","resultObj","searchTerms","searchQuote","classes","React","useState","expanded","setExpanded","book","quote","authors","split","i","length","bookDetails","style","Typography","gutterBottom","variant","component","undefined","description","lines","more","less","className","anchorClass","width","averageRating","stars","size","spacing","fill","ratingsCount","categories","pageCount","publishedDate","displayedQuote","cite","highlightClassName","searchWords","includes","replaceAll","autoEscape","textToHighlight","Card","CardMedia","src","thumbnail","CardContent","title","Button","disableRipple","color","href","previewLink","target","align","IconButton","clsx","onClick","aria-expanded","aria-label","Collapse","in","timeout","unmountOnExit","formControl","ResultPage","results","data","offset","perPageResults","sort","state","setState","console","log","useEffect","a","onRender","count","handlePaginationClick","sortByKeyASC","array","key","b","x","y","sortByKeyDSC","Object","keys","Number","Math","floor","Grid","container","justify","alignItems","item","xs","Pagination","page","onChange","e","FormControl","InputLabel","id","Select","labelId","value","order","actualKey","arr","sorting","handleSort","MenuItem","slice","filter","map","idx","axios","require","baseURL","getSearchResults","endpoint","params","post","author","bookTitle","genre","yearTo","yearFrom","minRating","responseType","then","response","JSON","stringify","catch","error","years","push","genres","SearchFeatures","forwardRef","props","ref","book_titles","bookSearch","handleChange","field","handleClear","useImperativeHandle","FormControlLabel","control","Switch","checked","name","label","Autocomplete","options","getOptionLabel","book_title","renderInput","TextField","event","newValue","rowsMax","parseInt","rating","heroContent","backgroundColor","palette","background","paper","heroButtons","margin","SearchBar","correction","useRef","Container","fullWidth","multiline","search_text","res","err","paragraph","param","handleRequest","preventDefault","apiResponse","success","current","getAllAuthors","getAllBookTitles","icon","marginRight","cardGrid","paddingTop","paddingBottom","footer","SearchPage","books","isLoading","errorOccur","errorMsg","errorResponse","getAuthorsandBookNames","searchInput","requestError","Fragment","CssBaseline","CircularProgress","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2fc163f1.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Button from '@material-ui/core/Button';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport clsx from 'clsx';\nimport Collapse from '@material-ui/core/Collapse';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Highlighter from \"react-highlight-words\";\nimport ShowMoreText from 'react-show-more-text';\nimport Stars from 'react-stars-display';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    marginTop: '5%',\n    marginBottom: '5%',\n    border: '0.2em solid lightgrey'\n  },\n  cover: {\n    maxWidth: 120,\n    minWidth: 120,\n    padding: 7,\n    objectFit: 'cover',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    minWidth: '75%'\n  },\n  content: {\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  }\n}));\n\nexport default function BookCard({resultObj, searchTerms, searchQuote}) {\n    const classes = useStyles();\n    const [expanded, setExpanded] = React.useState(false);\n\n    let book  = resultObj;\n    let quote = resultObj.quote ?  resultObj.quote : \"\";\n    let quoteArr = quote.split(\" \");\n    let authors = \"\"\n    for (let i = 0; i < book.authors.length; i++) {\n      if (i == book.authors.length - 1) {\n        authors += book.authors[i]\n      } else {\n        authors += book.authors[i] + \", \"\n      }\n    }\n    let bookDetails = <div style={{\"fontStyle\" : \"italic\"}}>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"  >\n                        Book description\n                        </Typography>\n                        <Typography gutterBottom variant=\"h7\" component=\"h5\"  >\n                        {(book.description == undefined ||  book.description == null || book.description == '') ? \n                        'No book description available.' : <ShowMoreText\n                        /* Default options */\n                        lines={1}\n                        more='Show more'\n                        less='Show less'\n                        className='content-css'\n                        anchorClass='my-anchor-css-class'\n                        expanded={false}\n                        width={0}\n                        > {book.description}</ShowMoreText>}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"   >\n                        Average rating\n                        </Typography>\n                        <Typography gutterBottom variant=\"h7\" component=\"h5\"   >\n                          {book.averageRating != \"\" ?\n                        <Stars\n                        stars={book.averageRating}\n                        size={20} //optional\n                        spacing={2} //optional\n                        fill='#ea9c46' //optional\n                        /> : \"No ratings were given to this book.\"}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"   >\n                        Number of ratings\n                        </Typography>\n                        <Typography gutterBottom variant=\"h7\" component=\"h5\"    >\n                        {book.ratingsCount != \"\" ? book.ratingsCount : \"No ratings were given to this book.\"}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"  >\n                        Book categories\n                        </Typography>\n                        <Typography gutterBottom variant=\"h7\" component=\"h5\"  >\n                         {book.categories}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"  >\n                        Number of pages \n                        </Typography>\n                        <Typography gutterBottom variant=\"h7\" component=\"h5\" >\n                        {book.pageCount != \"\" ? book.pageCount : \"No page count is available.\"}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"   >\n                        Published date\n                        </Typography>\n                        <Typography gutterBottom variant=\"h7\" component=\"h5\"    >\n                        {book.publishedDate != \"\" ? book.publishedDate : \"No publication date is available.\"}\n                        </Typography>\n                        <Typography gutterBottom variant=\"h6\" component=\"h2\"   >\n                        ISBN\n                        </Typography>\n                        <Typography gutterBottom variant=\"h7\" component=\"h5\"   >\n                        {book['isbn-13']}\n                        </Typography>\n                        \n                      </div>\n      let displayedQuote = bookDetails \n      if (quote.length > 300) {\n        displayedQuote = <ShowMoreText\n                          /* Default options */\n                          lines={3}\n                          more='Show more'\n                          less='Show less'\n                          className='content-css'\n                          anchorClass='my-anchor-css-class'\n                          expanded={false}\n                          width={0}\n                          >\n                            <q cite=\"https://www.mozilla.org/en-US/about/history/details/\">{\n                          <Highlighter\n                          highlightClassName=\"YourHighlightClass\"\n                          searchWords={searchQuote.includes(\"\\\"\") ? [searchQuote.replaceAll(\"\\\"\", \"\").replaceAll(\",\", \"\").replaceAll(\";\", \"\")] : searchTerms}\n                          autoEscape={true}\n                          textToHighlight={quote}\n                        >\n                          \n                          </Highlighter>}</q>\n                          </ShowMoreText>\n      } else if (quote.length <= 300 && quote.length > 0) {\n        displayedQuote = <q cite=\"https://www.mozilla.org/en-US/about/history/details/\">{\n                          <Highlighter\n                          highlightClassName=\"YourHighlightClass\"\n                          searchWords={searchQuote.includes(\"\\\"\") ? [searchQuote.replaceAll(\"\\\"\", \"\").replaceAll(\",\", \"\").replaceAll(\";\", \"\")] : searchTerms}\n                          autoEscape={true}\n                          textToHighlight={quote}\n                        >\n                          \n                          </Highlighter>}</q>\n      }\n\n    const handleExpandClick = () => {\n      setExpanded(!expanded);\n    };\n\n  \n\n\n    return (\n\n      <Card className={classes.root} >\n        <CardMedia\n          className={classes.cover}\n        >\n          <img src={book.thumbnail} style={{\"max-height\" : \"100%\", \"max-width\" : \"100%\", \n          \"border\" : \"0.2em solid black\", \"border-radius\" : \"0.1em\"}}/>\n        </CardMedia>\n        <div className={classes.details}>\n        \n          <CardContent className={classes.content} >\n            <Typography variant=\"h5\" component=\"h2\">\n              {book.title}\n            </Typography>\n            <Typography gutterBottom component=\"h3\" >\n              {authors}\n            </Typography>\n            <Typography gutterBottom component=\"h3\" >\n              {displayedQuote == bookDetails ? displayedQuote : \"\"}\n            </Typography>\n              \n            <Typography gutterBottom component=\"h4\" variant=\"h6\" style={{\"color\" : \"darkblue\", \"font-style\": \"italic\"}} >\n              \n            {displayedQuote == bookDetails ? \"\" : displayedQuote}\n              \n            </Typography>\n            <Button disableRipple size=\"small\" color=\"primary\" href={book.previewLink}  target=\"_blank\" style={{'cursor' : 'pointer',  \n              'textTransform': \"none\", 'backgroundColor': 'transparent'  }}>\n              View on Google Books\n            </Button>\n            <hr  style={{\n              color: 'lightblue',\n              align: 'left',\n              width: '100%'\n            }}/>\n          </CardContent>\n          {(quote.length > 0) ? <IconButton\n              className={clsx(classes.expand, {\n                [classes.expandOpen]: expanded,\n              })}\n              onClick={handleExpandClick}\n              aria-expanded={expanded}\n              aria-label=\"show more\"\n            >\n              <ExpandMoreIcon />\n          </IconButton> : \"\"}\n          \n          {(quote.length > 0) ? \n            \n            \n            <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n              {(quote.length > 0) ? <CardContent>{bookDetails}</CardContent> : \"\"}\n            </Collapse>\n             :\n            \"\"\n          }\n          \n        </div>\n      </Card>\n\n    )              \n}\n\n","import React, {useState,useEffect} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport BookCard from \"../components/BookCard.js\"\nimport Pagination from '@material-ui/lab/Pagination';\n\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n      // margin: theme.spacing(1),\n      minWidth: 120,\n    },\n}));\n\n\n//  props will be a list of book objects\nexport default function ResultPage({results, searchTerms, searchQuote}) {\n      const classes = useStyles();\n\n      const [state, setState] = useState({\n          data : [],\n          searchTerms : [],\n          offset : 1,\n          perPageResults: 10,\n          sort: false,\n          searchQuote : \"\"\n\n        });\n\n        console.log(\"Result page rendered\")\n\n        \n        useEffect(() => {\n          const onRender = async () => {\n            console.log(\"Use effect hook\")\n            setState({...state, data:results, searchTerms : searchTerms, searchQuote : searchQuote}) \n            }\n          onRender()\n        },[]);\n\n\n        const handlePaginationClick = (offset) => {\n          setState({...state,offset:offset})\n        }\n\n        const handleSort = (key,value) => {\n          console.log(\"Sort\")\n          let order = key.split(\"-\")[1]\n          let actualKey = key.split(\"-\")[0]\n          var arr = state.data\n          if (order == \"ASC\") {\n            arr = sortByKeyASC(arr,actualKey)\n          } else {\n            arr = sortByKeyDSC(arr,actualKey)\n          }\n\n          // arr = sortByKey(arr,\"averageRating\")\n          setState({...state,sort:value,data:arr,sorting:false})\n          console.log(\"Sorted results\",state.data)\n        }\n\n        const sortByKeyASC = (array, key) => {\n          return array.sort(function(a, b) {\n              var x = a[key]; \n              var y = b[key];\n              return ((x < y) ? -1 : ((x > y) ? 1 : 0));\n          });\n        }\n\n        const sortByKeyDSC = (array, key) => {\n          return array.sort(function(a, b) {\n              var x = a[key]; \n              var y = b[key];\n              return ((x < y) ? 1 : ((x > y) ? -1 : 0));\n          });\n        }\n\n        // Calculate how many pagination page we will have \n        var length = Object.keys(state.data).length;\n        var count;\n        if (length % Number(state.perPageResults) == 0)\n          count = Math.floor(length/Number(state.perPageResults)) \n        else\n          count = Math.floor(length/Number(state.perPageResults)) + 1\n        console.log(\"Page count\",count)\n\n\n        return (\n          <Grid container \n            className=\"book-container\" \n            spacing={6}\n            justify=\"center\"   \n            alignItems=\"center\" \n          >\n            \n            <Grid \n              item \n              className=\"book-card-result\"\n              xs={8}\n            >\n\n              {length> 0 && ( \n              <Grid container spacing={3}>  \n                {length> state.perPageResults &&\n                  <Grid item xs={8} >\n                      <Pagination \n                      count={count} \n                      page={state.offset} \n                      onChange={(e, offset) => handlePaginationClick(offset)} />\n                  </Grid>\n                  }\n\n                <Grid item xs={2} >\n                  <FormControl className={classes.formControl} >\n                      <InputLabel id=\"genre\">Sort by</InputLabel>\n                      <Select\n                        labelId=\"sort-selcet\"\n                        id=\"sort-select\"\n                        onChange={e => handleSort(e.target.value,true)}\n                      >\n                        <MenuItem value={\"title-ASC\"}>Book title: A-Z</MenuItem>\n                        <MenuItem value={\"title-DSC\"}>Book title: Z-A</MenuItem>\n                        <MenuItem value={\"averageRating-DSC\"}>Average rating: High-to-Low</MenuItem>\n                        <MenuItem value={\"averageRating-ASC\"}>Average rating: Low-to-High</MenuItem>\n                        <MenuItem value={\"pageCount-DSC\"}>Page count: High-to-Low</MenuItem>\n                        <MenuItem value={\"pageCount-ASC\"}>Page count: Low-to-High</MenuItem>\n                        <MenuItem value={\"ratingsCount-DSC\"}>Number of ratings: High-to-Low</MenuItem>\n                        <MenuItem value={\"ratingsCount-ASC\"}>Number of ratings: Low-to-High</MenuItem>\n                      </Select>\n                  </FormControl>\n                </Grid>\n              </Grid>\n              )}      \n\n              { state.data.slice(\n              (state.offset -1 )*state.perPageResults, \n                (state.offset-1)*state.perPageResults + Number(state.perPageResults)).filter((book) => {\n                    return book.title != null;\n                }).map((book,idx) =>\n                    <BookCard  item key={idx} resultObj={book} searchTerms={state.searchTerms} searchQuote={state.searchQuote}/>\n                )\n              }\n\n              {length> state.perPageResults &&\n              <Pagination \n              count={count} \n              page={state.offset} \n              onChange={(e, offset) => handlePaginationClick(offset)} />\n              }\n\n            </Grid>\n          </Grid> \n          \n          )\n};\n\n\n","import React, { useState, forwardRef, useImperativeHandle } from \"react\";\n\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        // margin: theme.spacing(1),\n        minWidth: 120,\n      },\n  }));\n  \n  \nlet years = []\nfor(var i = 1990; i< 2022; i++){\n  years.push(i)\n}\n\n\nlet genres = ['All','Fiction','Biography & Autobiography','Juvenile Fiction','Poetry','Young Adult Fiction',\n'Philosophy','Young Adult Nonfiction','True Crime','Indic fiction (English)']\n\nconst SearchFeatures = forwardRef((props,ref) => {\n    const classes = useStyles();\n\n    const authors = props.authors;\n    const book_titles = props.book_titles;\n\n    const [state, setState] = useState({\n          bookSearch : false,\n          author : \"\",\n          bookTitle: \"\",\n          genre: \"\",\n          yearFrom:1990,\n          yearTo : 2021,\n          minRating: 1\n      });\n    \n\n    \n    const handleChange = (field,value) => {\n        console.log(\"Field\",field)\n        console.log(\"Value\",value)\n\n        // TODO \n        // Year has to be checked and error message displayed\n        setState({...state,[field]:value})\n        \n        /* Pass state to parent component  */\n        props.handleChange(field,value)\n    };\n\n    \n    const handleClear=()=> {\n      setState({...state, author:\"\",bookTitle:\"\",genre:\"\",yearFrom:1990,yearTo : 2021})\n    }\n\n\n    useImperativeHandle(ref, () => {\n      return {\n        handleClear: handleClear\n      };\n    });\n\n\n    return(\n    <>\n      {/* Extra search features */}\n      <Grid container>  \n         <FormControlLabel\n           control={<Switch checked={state.bookSearch} onChange={e => handleChange('bookSearch', e.target.checked)} name=\"bookSearch\" color=\"primary\"/>}\n           label=\"Book Search\"\n         />\n      </Grid>\n\n      <Grid container spacing={1}>\n\n         {/* First row of advance Search */}\n         <Grid container item xs={12} spacing={3}>\n            <Grid container item xs={4} >\n              <Autocomplete\n                id=\"book-title-select\"\n                options={book_titles}\n                getOptionLabel={(book_title) => book_title.book_title}\n                style={{ width: 300 }}\n                renderInput={(params) => <TextField {...params} label=\"Book Title\" />}\n                onChange={(event, newValue) => handleChange('bookTitle', newValue ? newValue.book_title : newValue )}\n              />\n            </Grid>\n            <Grid container item xs={4} >\n              <Autocomplete\n                id=\"author-select\"\n                options={authors}\n                getOptionLabel={(author) => author.name}\n                style={{ width: 300 }}\n                renderInput={(params) => <TextField {...params} label=\"Author\" />}\n                onChange={(event, newValue) => handleChange('author', newValue ? newValue.name : newValue)}  \n\n              />\n            </Grid>\n\n           <Grid container item xs={4}>\n             <FormControl className={classes.formControl}>\n                 <InputLabel id=\"genre\">Genre</InputLabel>\n                 <Select\n                   labelId=\"genre-selcet\"\n                   id=\"genre-select\"\n\n                   value={state.genre}\n                   onChange={e =>handleChange('genre', e.target.value)}\n                 >\n                   {genres.map((genre) => (\n                               <MenuItem key={genre} value={genre} >\n                                 {genre}\n                               </MenuItem>\n                             ))}\n                 </Select>\n             </FormControl>\n           </Grid>        \n         </Grid>\n         \n         {/* Second row of advance Search */}\n        <Grid container item xs={12} spacing={3}>\n\n           <Grid container item xs={4} >\n              <TextField \n                className={classes.formControl} \n                label=\"Year From\"\n                labelId=\"year-from-select\"\n                id=\"year-from-select\"\n                rowsMax={1}\n                value={state.yearFrom}\n                onChange={e => handleChange('yearFrom', e.target.value != '' ? parseInt(e.target.value) : '')}\n              ></TextField>\n            </Grid>\n\n           <Grid container item xs={4} >\n              <TextField \n                className={classes.formControl} \n                label=\"Year To\"\n                labelId=\"year-to-select\"\n                id=\"year-to-select\"\n                rowsMax={1}\n                value={state.yearTo}\n                onChange={e => handleChange('yearTo', e.target.value != '' ? parseInt(e.target.value) : '')}\n              ></TextField>\n            </Grid>\n\n           <Grid container item xs={4}>\n             <FormControl className={classes.formControl}>\n                 <InputLabel id=\"rating\">Min. Rating</InputLabel>\n                 <Select\n                   labelId=\"rating-selcet\"\n                   id=\"rating-select\"\n\n                   value={state.minRating}\n                   onChange={e =>handleChange('minRating', e.target.value)}\n                 >\n                   {[1,2,3,4,5].map((rating) => (\n                               <MenuItem key={rating} value={rating} >\n                                 {rating}\n                               </MenuItem>\n                             ))}\n                 </Select>\n             </FormControl>\n           </Grid>    \n\n        </Grid>\n      </Grid>\n    </>\n    )\n\n});\nexport default SearchFeatures;\n","const axios = require('axios');\nconst baseURL = 'http://188.166.173.191:5000';\n\nconst getSearchResults = async(endpoint, params) => {\n    console.log(\"request endpoint\",baseURL + endpoint)\n    return axios.post(baseURL + endpoint,{\n        quote: params.quote,\n        author: params.author ,\n        bookTitle: params.bookTitle, \n        genre: params.genre, \n        yearTo: params.yearTo, \n        yearFrom: params.yearFrom,\n        minRating: params.minRating,\n        responseType: 'json'\n    })\n    .then(response => {\n        console.log(\"res in callAPI is: \" + JSON.stringify(response));\n        return response.data;\n        // throw Error(\"This is an error message\")\n      })\n    .catch(error => {\n        throw error;\n    });   \n}\n\nexport default getSearchResults;\n\n\n","import React ,{useState,useRef} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\nimport SearchFeatures from \"./SearchFeatures.js\";\nconst axios = require('axios');\n\nconst useStyles = makeStyles((theme) => ({\n\n      heroContent: {\n        backgroundColor: theme.palette.background.paper,\n        padding: theme.spacing(8, 0, 6),\n      },\n      heroButtons: {\n        marginTop: theme.spacing(4),\n      },\n      margin: {\n        margin: theme.spacing(1),\n      },\n  }));\n  \n\n\nexport default function SearchBar(props) {\n    const classes = useStyles();\n\n    const [state, setState] = useState({\n        quote:\"\",\n        bookSearch : false,\n        author : \"\",\n        bookTitle: \"\",\n        genre: \"\",\n        yearTo : 2021,\n        yearFrom: 1990,\n        minRating:1,\n        correction: \"\",\n    });\n\n\n    const ref = useRef(null);\n\n\n    const handleChange = (event) => {\n      setState({...state,quote: event.target.value})\n      // Spellcheck\n      axios.post('http://188.166.173.191:5000' + '/spellcheck',{\n        search_text: event.target.value\n      }).then(res => {\n      if (res['data']['correction_exists']) {\n        setState({...state,correction: res['data']['corrected_text'], quote: event.target.value})\n      } else {\n        setState({...state,correction: \"\", quote: event.target.value})\n      }\n      }).catch(err => {\n      console.log(\"ERROR RETRIEVINGG CORRECTION: \" + err)\n      });\n        \n    };\n    \n    const handleSearchFeaturesChange = (param,value) =>{\n        setState({...state, [param]:value});\n        console.log(\"Search features input:\",param,value);\n    }\n    \n    const handleClear=(event)=> {\n        event.preventDefault();\n        setState({...state, quote:\"\",apiResponse:{},success : false})\n        ref.current.handleClear();\n\n    }\n\n    const handleSpellCorrect= () => {\n      setState({...state, quote: state.correction, correction: \"\"})\n    }\n\n    \n    const handleSubmit = () =>{\n        // Potential to validate input here if needed\n        props.handleRequest(state)\n    }\n\n    \n    return(\n    <>\n        <div className={classes.heroContent}>\n          <Container maxWidth=\"sm\">\n            <Typography component=\"h4\" variant=\"h4\" align=\"center\" color=\"textPrimary\" gutterBottom>\n              Search for a book by its title, by a quote or even by a phrase!\n            </Typography>\n           \n           {/* Search Bar */}\n            <TextField \n            fullWidth \n            className={classes.margin} \n            label={state.bookSearch ? \"Type your book title terms...\" :\"Type your quote terms...\"}\n            multiline\n            rowsMax={4}\n            value={state.quote}\n            onChange={handleChange}\n            ></TextField>\n\n            <Typography variant=\"h7\" align=\"center\" color=\"textSecondary\" paragraph style={{\"fontStyle\" : \"italic\", \"cursor\" : \"pointer\"}} onClick={handleSpellCorrect}>\n              {state.correction.length != 0 ? \"Did you mean '\" + state.correction + \"'?\": \"\"}\n            </Typography>\n\n            <Typography variant=\"caption\" align=\"center\" color=\"textSecondary\" paragraph value={\"hi\"} style={{\"fontStyle\" : \"italic\"}}>\n            Tip: For phrase search, the less common your terms the faster your phrase will be retrieved!\n\n            </Typography>\n\n            {/* Search features component  */}\n            <SearchFeatures ref= {ref} handleChange={handleSearchFeaturesChange}  authors={props.authors} book_titles={props.book_titles} />\n\n            {/* Buttons */}\n            <div className={classes.heroButtons}>\n              <Grid container spacing={2} justify=\"center\">\n                <Grid item>\n                  <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\n                    Search\n                  </Button>\n                </Grid>\n                <Grid item>\n                  <Button variant=\"outlined\" color=\"primary\" onClick={handleClear}>\n                    Clear\n                  </Button>\n                </Grid>\n              </Grid>\n            </div>\n          </Container>\n        </div>\n        \n    </>\n    )\n\n}\n\n","const axios = require('axios');\n// const findQuoteURL = 'http://localhost:9000/findQuote';\nconst getAuthorsURL = 'http://188.166.173.191:5000/get_all_authors';\n\nconst getAllAuthors = async() => {\n    return axios.post(getAuthorsURL,{\n        responseType: 'json'\n    })\n    .then(response => {\n        console.log(\"res in callAPI is: \" + JSON.stringify(response));\n        return response.data;\n      })\n    .catch(error => {\n        throw error;\n    });   \n}\n\nexport default getAllAuthors;\n\n\n","const axios = require('axios');\n// const findQuoteURL = 'http://localhost:9000/findQuote';\nconst getBookTitlesURL = 'http://188.166.173.191:5000/get_all_book_titles';\n\nconst getAllBookTitles = async() => {\n    return axios.post(getBookTitlesURL,{\n        responseType: 'json'\n    })\n    .then(response => {\n        console.log(\"res in callAPI is: \" + JSON.stringify(response));\n        return response.data;\n      })\n    .catch(error => {\n        throw error;\n    });\n}\n\nexport default getAllBookTitles;\n\n\n","import React, {useState,useEffect} from 'react';\nimport Grid from '@material-ui/core/Grid';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n\nimport ResultPage from \"./ResultPage.js\"\nimport getSearchResults from \"../api/getSearchResults.js\";\nimport SearchBar from \"../components/SearchBar.js\";\nimport getAllAuthors from \"../api/getAllAuthors.js\"\nimport getAllBookTitles from \"../api/getAllBookTitles\";\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    marginRight: theme.spacing(2),\n  },\n  cardGrid: {\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n  },\n  footer: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(6),\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n\n}));\n\n\nexport default function SearchPage() {\n  const classes = useStyles();\n\n  const [state, setState] = useState({\n    apiResponse: {\n      books:[]\n    } , \n    searchTerms : [],\n    searchQuote: \"\",\n    isLoading : false,\n    errorOccur:false,\n    errorMsg:\"\",\n    success: false,\n    authors : [],\n    book_titles : []\n  });\n\n  console.log(\"Search page render\")\n\n\n  // Use effect hook that will be triggered once, on render, to fetch the Author names\n  useEffect(() => {\n    console.log(\"Hook to get author names\")\n      const getAuthorsandBookNames = async () => {\n        let authors = []\n        let book_titles = []\n        await getAllAuthors()\n          .then(response => {\n            // console.log(\"repsonse within author hook\",response);\n            authors = response.authors\n          })\n          .catch(errorResponse => {\n            console.log(\"Error response\",errorResponse)\n          });\n\n          await getAllBookTitles()\n          .then(response => {\n            // console.log(\"repsonse within book hook\",response);\n            book_titles = response.book_titles\n          })\n          .catch(errorResponse => {\n            console.log(\"Error response\",errorResponse)\n          });\n\n          setState({\n              ...state,\n              book_titles: book_titles,\n              authors:authors\n          })\n      };\n\n    \n\n      getAuthorsandBookNames();\n\n    }, []); // empty list of dependencies ensures the hooks is only called upon rendering of the component\n\n\n/* \nSingle handleRequest function that will trigger the proper API function based on the\ntype of search \n */\n  const handleRequest = async (searchInput) => {\n\n    let {\n      quote, \n      bookSearch,\n      author ,\n      bookTitle,\n      genre,\n      yearFrom,\n      yearTo,\n      minRating} = searchInput\n\n\n    setState({ ...state, isLoading: true, requestError: \"\", apiResponse: \"\"});\n    console.log(state.isLoading)\n    \n    \n    await getSearchResults(\n      bookSearch ? \"/books_search\" : \"/quotes_search\",\n\n      {quote, author ,bookTitle, genre, yearFrom, yearTo, minRating}\n      )\n        .then(response => {\n            // console.log(\"res in setAPIResponse: \" + JSON.stringify(response));\n            setState({\n                ...state,\n                isLoading: false,\n                apiResponse: {\n                  books : response.books}, // book object, might contain quote as well \n                requestError: \"\",\n                success:true,\n                errorOccur: false,\n                searchTerms: response.searchTerms,\n                searchQuote: quote\n            });\n        })\n        .catch(errorResponse => {\n            setState({\n                ...state,\n                isLoading: false,\n                success : false,\n                errorOccur: true,\n                errorMsg: errorResponse,\n                apiResponse: {\n                  quote:\"\"\n                }\n            });\n        });        \n  }\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <main>\n        {/* Search bar including the Advance search options */}\n        <SearchBar handleRequest={handleRequest}  authors={state.authors} book_titles={state.book_titles} />\n\n        {/* Results container */}\n        <Container className={classes.cardGrid} maxWidth=\"md\">\n          {/* Container to hold the results of the search  */}\n          {state.isLoading\n          ? ( <Grid container \n            // spacing={6}\n             justify=\"center\"   \n             alignItems=\"center\" \n             >\n            <CircularProgress />\n          </Grid>) \n          :  ( \n            state.success && (\n            (state.apiResponse.books.length>0 )\n            ? ( <ResultPage results={state.apiResponse.books} searchTerms={state.searchTerms} searchQuote={state.searchQuote}/>)\n            :  ( <Typography variant=\"h6\" align='center' color='primary' className=\"error-message\">{\"It seems there were no results for your query.\"}</Typography> )\n           )) // provide list of results\n          }\n          {state.errorOccur && !state.isLoading && <Typography variant=\"h6\" align='center' color='error' className=\"error-message\">{`Your request has timed out. The error message is: ${state.errorMsg}`}</Typography> }\n        </Container>\n      </main>\n    </React.Fragment>\n  );\n}","import './App.css';\nimport SearchPage from \"./views/SearchPage.js\";\nimport React, { useState,useEffect } from \"react\";\n\nfunction App(){\n    return(\n        <div>\n        <SearchPage/>\n        </div>\n    )\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}